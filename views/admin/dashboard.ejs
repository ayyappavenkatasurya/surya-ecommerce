<%# views/admin/dashboard.ejs %>
<%- include('../partials/header', { title: title }) %>

<div class="admin-dashboard-container">
    <h1><%= title %></h1> <%# Title is now dynamic %>
    <p class="text-muted mb-3">Welcome, <%= currentUser.name %>!</p>

    <div class="admin-actions-grid">
         <a href="/admin/upload-product" class="admin-action-card card">
            <i class="fas fa-upload"></i>
            <h3>Upload Products</h3>
            <p>Add new products to the store.</p>
        </a>
         <a href="/admin/manage-products" class="admin-action-card card">
            <i class="fas fa-edit"></i>
            <h3>Manage Products</h3>
            <% if (userRole === 'admin') { %>
                <p>Edit, remove, or view status of all products.</p>
            <% } else { %>
                <p>Edit, remove, or view status of your products.</p>
            <% } %>
         </a>
        <a href="/admin/manage-orders" class="admin-action-card card">
             <i class="fas fa-clipboard-list"></i>
             <h3>Manage Orders</h3>
              <% if (userRole === 'admin') { %>
                 <p>View and manage all customer orders.</p>
             <% } else { %>
                 <p>View orders containing your products.</p>
             <% } %>
        </a>

        <%# --- Admin Only Links --- %>
        <% if (userRole === 'admin') { %>
            <a href="/admin/review-products" class="admin-action-card card">
                 <i class="fas fa-check-circle"></i>
                 <h3>Review Products
                     <% if (pendingProductCount > 0) { %>
                        <span class="badge bg-warning text-dark"><%= pendingProductCount %></span>
                    <% } %>
                 </h3>
                 <p>Approve or reject seller products.</p>
            </a>
            <a href="/admin/manage-users" class="admin-action-card card">
                 <i class="fas fa-users-cog"></i>
                 <h3>Manage Users</h3>
                 <p>Update roles or remove users.</p>
            </a>
        <% } %>
        <%# --- End Admin Only Links --- %>

    </div>
</div>

 <%- include('../partials/footer') %>