/* public/css/style.css */
/* Microsoft Fluent-Inspired E-commerce Theme */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Microsoft-Inspired Color Palette */
  --primary-blue: #0078D4; /* Standard Microsoft Blue */
  --primary-blue-hover: #005A9E;
  --primary-blue-active: #004578;
  --primary-blue-light: #EFF6FC; /* Light background tint */

  --neutral-primary: #323130; /* Dark Grey for primary text */
  --neutral-secondary: #605E5C; /* Medium Grey for secondary text */
  --neutral-tertiary: #A19F9D; /* Lighter Grey for hints, disabled */
  --neutral-quaternary: #C8C6C4;
  --neutral-light: #EDEBE9; /* Very light grey for backgrounds/borders */
  --neutral-lighter: #F3F2F1; /* Lighter background */
  --neutral-white: #FFFFFF;

  --status-success: #107C10; /* Green */
  --status-success-bg: #DFF6DD;
  --status-danger: #D83B01; /* Red/Orange */
  --status-danger-bg: #FDE7E9;
  --status-warning: #FFB900; /* Yellow */
  --status-warning-bg: #FFF4CE;
  --status-info: #0078D4; /* Blue */
  --status-info-bg: #EFF6FC;
  --status-pending-bg: #FFF4CE; /* Reuse warning bg for pending */
  --status-pending-text: #8C6D0F; /* Dark yellow text */

  /* Typography */
  --font-family-base: "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
  --font-size-base: 1rem; /* 16px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --line-height-base: 1.5;

  /* Borders & Shadows */
  --border-radius: 4px;
  --border-color: var(--neutral-light);
  --box-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.06);
  --box-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);

  /* Spacing */
  --space-unit: 8px; /* Base spacing unit */
  --space-xs: calc(var(--space-unit) * 0.5);  /* 4px */
  --space-sm: var(--space-unit);            /* 8px */
  --space-md: calc(var(--space-unit) * 1.5); /* 12px */
  --space-lg: calc(var(--space-unit) * 2);   /* 16px */
  --space-xl: calc(var(--space-unit) * 3);   /* 24px */
  --space-xxl: calc(var(--space-unit) * 4);  /* 32px */
}

html {
  font-size: var(--font-size-base);
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family-base);
  line-height: var(--line-height-base);
  color: var(--neutral-primary);
  background: linear-gradient(to bottom, #f4f8ff, #f3feff); /* Flipkart-style gradient: Very light grey/blue to white */
  background-repeat: no-repeat; /* Ensure gradient doesn't tile if content is short */
  background-attachment: fixed; /* Keep gradient fixed during scroll */
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  color: var(--primary-blue);
  text-decoration: none;
  transition: color 0.15s ease-in-out;
}
a:hover {
  color: var(--primary-blue-hover);
  text-decoration: underline;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

h1, h2, h3, h4, h5, h6 {
  margin-bottom: var(--space-lg);
  line-height: 1.3;
  font-weight: var(--font-weight-semibold);
}
h1 { font-size: 1.75rem; } /* ~28px */
h2 { font-size: 1.5rem; }  /* ~24px */
h3 { font-size: 1.25rem; } /* ~20px */
h4 { font-size: 1.125rem; }/* ~18px */

p { margin-bottom: var(--space-lg); }
ul, ol { padding-left: var(--space-xl); margin-bottom: var(--space-lg); }

/* --- Utility Classes --- */
.hidden, .hide { display: none !important; }
.text-center { text-align: center; }
.text-danger { color: var(--status-danger) !important; }
.text-success { color: var(--status-success) !important; }
.text-warning { color: var(--status-warning) !important; }
.text-info { color: var(--status-info) !important; }
.text-muted { color: var(--neutral-secondary) !important; }
.mb-1 { margin-bottom: var(--space-xs) !important; }
.mb-2 { margin-bottom: var(--space-sm) !important; }
.mb-3 { margin-bottom: var(--space-lg) !important; }
.mb-4 { margin-bottom: var(--space-xl) !important; }
.mt-1 { margin-top: var(--space-xs) !important; }
.mt-2 { margin-top: var(--space-sm) !important; }
.mt-3 { margin-top: var(--space-lg) !important; }
.mt-4 { margin-top: var(--space-xl) !important; }
.ms-1 { margin-left: var(--space-xs) !important; }
.ms-2 { margin-left: var(--space-sm) !important; }
.me-1 { margin-right: var(--space-xs) !important; }
.me-2 { margin-right: var(--space-sm) !important; }
.me-3 { margin-right: var(--space-lg) !important; }
.p-1 { padding: var(--space-xs) !important; }
.p-2 { padding: var(--space-sm) !important; }
.p-3 { padding: var(--space-lg) !important; }
.pt-1 { padding-top: var(--space-xs) !important; }
.pt-2 { padding-top: var(--space-sm) !important; }
.pt-3 { padding-top: var(--space-lg) !important; }
.pb-1 { padding-bottom: var(--space-xs) !important; }
.pb-2 { padding-bottom: var(--space-sm) !important; }
.pb-3 { padding-bottom: var(--space-lg) !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }
.d-block { display: block !important; }
.d-inline-block { display: inline-block !important; }
.align-items-center { align-items: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-center { justify-content: center !important; }
.flex-wrap { flex-wrap: wrap !important; }
.flex-grow-1 { flex-grow: 1 !important; }
.gap-1 { gap: var(--space-xs) !important; }
.gap-2 { gap: var(--space-sm) !important; }
.gap-3 { gap: var(--space-lg) !important; }
.small { font-size: var(--font-size-sm); }
.fs-5 { font-size: 1.25rem !important; }
.w-100 { width: 100% !important; }
.visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
.fw-bold { font-weight: var(--font-weight-bold) !important; }
.fw-normal { font-weight: var(--font-weight-normal) !important; }
.fw-semibold { font-weight: var(--font-weight-semibold) !important; }
.text-capitalize { text-transform: capitalize !important; }
.border { border: 1px solid var(--border-color) !important; }
.border-top { border-top: 1px solid var(--border-color) !important; }
.border-bottom { border-bottom: 1px solid var(--border-color) !important; }
.rounded { border-radius: var(--border-radius) !important; }

/* --- Forms --- */
.form-group { margin-bottom: var(--space-lg); }
label:not(.form-label-inline) { display: block; margin-bottom: var(--space-sm); font-weight: var(--font-weight-semibold); font-size: var(--font-size-sm); }
label.form-label-inline { margin-bottom: 0; margin-right: var(--space-sm); font-weight: normal; }

input[type="text"], input[type="email"], input[type="password"], input[type="tel"], input[type="url"], input[type="number"], input[type="search"], textarea, select {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  border: 1px solid var(--neutral-secondary); /* Slightly darker default border */
  border-radius: var(--border-radius);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-base);
  background-color: var(--neutral-white);
  color: var(--neutral-primary);
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-control { /* Ensure .form-control matches base input styles */
    display: block;
    width: 100%;
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-base);
    color: var(--neutral-primary);
    background-color: var(--neutral-white);
    background-clip: padding-box;
    border: 1px solid var(--neutral-secondary);
    appearance: none;
    border-radius: var(--border-radius);
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
textarea { resize: vertical; min-height: 80px; }
input[type="number"] { appearance: textfield; -moz-appearance: textfield; }
input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

input:focus, textarea:focus, select:focus, .form-control:focus {
  border-color: var(--primary-blue);
  outline: 0;
  box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.3); /* Subtle blue focus ring */
}
input[readonly], .form-control[readonly] {
  background-color: var(--neutral-light);
  opacity: 1;
  cursor: default;
}

.form-control-sm {
  padding: var(--space-xs) var(--space-sm);
  font-size: var(--font-size-sm);
  border-radius: var(--border-radius);
}
select.form-control-sm { height: auto; }

.inline-form { display: inline-flex; gap: var(--space-sm); align-items: center; vertical-align: middle; margin-bottom: 0; }
.inline-form > * { margin-bottom: 0; }

/* --- Buttons --- */
.btn {
  display: inline-block;
  font-weight: var(--font-weight-semibold);
  color: var(--neutral-white);
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  user-select: none;
  background-color: var(--primary-blue);
  border: 1px solid var(--primary-blue);
  padding: var(--space-sm) var(--space-lg);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-base);
  border-radius: var(--border-radius);
  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  text-transform: none; /* No capitalize */
}
.btn:hover {
  color: var(--neutral-white);
  text-decoration: none;
  background-color: var(--primary-blue-hover);
  border-color: var(--primary-blue-hover);
}
.btn:active {
  background-color: var(--primary-blue-active);
  border-color: var(--primary-blue-active);
}
.btn:focus {
  outline: 0;
  box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.5);
}
.btn:disabled, .btn.loading {
  background-color: var(--neutral-light);
  border-color: var(--neutral-light);
  color: var(--neutral-tertiary);
  cursor: not-allowed;
  pointer-events: none;
  opacity: 1;
}

.btn-primary { background-color: var(--primary-blue); border-color: var(--primary-blue); color: var(--neutral-white); }
.btn-primary:hover { background-color: var(--primary-blue-hover); border-color: var(--primary-blue-hover); }
.btn-secondary { background-color: var(--neutral-secondary); border-color: var(--neutral-secondary); color: var(--neutral-white); }
.btn-secondary:hover { background-color: var(--neutral-primary); border-color: var(--neutral-primary); }
.btn-success { background-color: var(--status-success); border-color: var(--status-success); color: var(--neutral-white); }
.btn-success:hover { background-color: #0b6a0b; border-color: #0b6a0b; }
.btn-danger { background-color: var(--status-danger); border-color: var(--status-danger); color: var(--neutral-white); }
.btn-danger:hover { background-color: #a82c00; border-color: #a82c00; }
.btn-warning { background-color: var(--status-warning); border-color: var(--status-warning); color: var(--neutral-primary); }
.btn-warning:hover { background-color: #f0ac00; border-color: #f0ac00; }
.btn-info { background-color: var(--status-info); border-color: var(--status-info); color: var(--neutral-white); }
.btn-info:hover { background-color: var(--primary-blue-hover); border-color: var(--primary-blue-hover); }

.btn-outline-secondary { color: var(--neutral-secondary); border-color: var(--neutral-secondary); background-color: transparent; }
.btn-outline-secondary:hover { color: var(--neutral-white); background-color: var(--neutral-secondary); }
.btn-outline-primary { color: var(--primary-blue); border-color: var(--primary-blue); background-color: transparent; }
.btn-outline-primary:hover { color: var(--neutral-white); background-color: var(--primary-blue); }

.btn-text {
    background-color: transparent; border-color: transparent; color: var(--primary-blue);
    padding: var(--space-xs) var(--space-sm); font-weight: var(--font-weight-normal);
}
.btn-text:hover, .btn-text:focus { background-color: var(--neutral-light); color: var(--primary-blue-hover); text-decoration: none; outline: none; box-shadow: none; }
.btn-text.btn-danger { color: var(--status-danger); }
.btn-text.btn-danger:hover, .btn-text.btn-danger:focus { color: #a82c00; background-color: var(--status-danger-bg); }

.btn-sm { padding: var(--space-xs) var(--space-md); font-size: var(--font-size-sm); }
.btn-lg { padding: var(--space-md) var(--space-xl); font-size: var(--font-size-lg); }
.btn-block { display: block; width: 100%; }

.btn .fa-spinner { margin-right: var(--space-sm); animation: fa-spin 1s infinite linear; }
@keyframes fa-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* --- Alerts & Toasts --- */
.alert {
  padding: var(--space-md) var(--space-lg); margin-bottom: var(--space-lg);
  border: 1px solid transparent; border-radius: var(--border-radius);
  position: relative; font-size: var(--font-size-sm);
}
.alert-success { color: #0b6a0b; background-color: var(--status-success-bg); border-color: #a7d7a7; }
.alert-danger { color: #a82c00; background-color: var(--status-danger-bg); border-color: #f7c9c9; }
.alert-warning { color: #8C6D0F; background-color: var(--status-warning-bg); border-color: #ffe9a6; }
.alert-info { color: #005A9E; background-color: var(--status-info-bg); border-color: #a9d6f5; }
.alert-link { font-weight: var(--font-weight-semibold); color: inherit; text-decoration: underline; }
.close-alert { /* Positioned absolutely via JS if needed */ }

/* Toast Notifications (Positioning from JS, styling here) */
.toast-container { /* Positioned fixed in JS */ z-index: 1055; }
.toast {
  background-color: var(--neutral-white); border: 1px solid var(--border-color);
  border-radius: var(--border-radius); box-shadow: var(--box-shadow-md);
  margin-bottom: var(--space-lg); padding: var(--space-md);
  position: relative; opacity: 0; transform: translateX(110%);
  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
  width: 100%; pointer-events: auto; min-height: 50px;
  display: flex; align-items: center; overflow: hidden;
}
.toast.show { opacity: 1; transform: translateX(0); }
.toast.hide { opacity: 0; transition: opacity 0.3s ease-in, transform 0.3s ease-in; }
.toast-body { flex-grow: 1; font-size: var(--font-size-sm); line-height: 1.4; padding-right: var(--space-xl); }
.toast-close-btn {
  position: absolute; top: 50%; right: var(--space-md); transform: translateY(-50%);
  background: transparent; border: none; font-size: 1.4rem; line-height: 1;
  font-weight: bold; color: inherit; opacity: 0.6; cursor: pointer; padding: 0.1rem 0.4rem;
}
.toast-close-btn:hover { opacity: 1; text-decoration: none; }
.toast-success { background-color: var(--status-success-bg); color: #0b6a0b; border-left: 4px solid var(--status-success); }
.toast-danger { background-color: var(--status-danger-bg); color: #a82c00; border-left: 4px solid var(--status-danger); }
.toast-warning { background-color: var(--status-warning-bg); color: #8C6D0F; border-left: 4px solid var(--status-warning); }
.toast-info { background-color: var(--status-info-bg); color: #005A9E; border-left: 4px solid var(--status-info); }
.toast-success .toast-close-btn, .toast-danger .toast-close-btn, .toast-warning .toast-close-btn, .toast-info .toast-close-btn { color: inherit; }


/* --- Header / Navbar --- */
.app-header {
  background-color: var(--primary-blue);
  color: var(--neutral-white);
  padding: var(--space-sm) var(--space-lg);
  position: sticky; top: 0; left: 0; width: 100%; z-index: 1000;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.navbar {
  display: flex; justify-content: space-between; align-items: center;
  max-width: 1200px; margin: 0 auto; gap: var(--space-md); min-height: 40px;
}
.nav-left { display: flex; align-items: center; flex-shrink: 0; margin-right: auto; }
.app-logo {
  display: flex; align-items: center; color: var(--neutral-white);
  font-size: 1.1rem; font-weight: var(--font-weight-semibold); text-decoration: none; margin-right: var(--space-lg);
}
.app-logo:hover, .app-logo:focus { color: var(--neutral-white); text-decoration: none; opacity: 0.9; }
.app-logo i { margin-right: var(--space-sm); font-size: 1.2em; }

/* Search Bar */
.search-container-dynamic { flex-grow: 0; max-width: none; order: 1; margin: 0; position: static; }
.search-form-dynamic {
  display: flex; align-items: center; width: 100%; height: 36px; /* Smaller height */
  background-color: var(--neutral-white); border: 1px solid transparent; /* No border initially */
  border-radius: var(--border-radius); transition: border-color 0.2s ease, box-shadow 0.2s ease;
  overflow: hidden; color: var(--neutral-primary);
}
#search-input-dynamic {
  flex-grow: 1; padding: 0 var(--space-md); border: none; background-color: transparent;
  color: var(--neutral-primary); font-size: var(--font-size-sm); height: 100%; outline: none;
}
#search-input-dynamic::placeholder { color: var(--neutral-tertiary); opacity: 1; }
.search-submit-btn-dynamic {
  background: transparent; border: none; color: var(--neutral-secondary); padding: 0 var(--space-md);
  cursor: pointer; font-size: 1rem; height: 100%; display: flex; align-items: center;
  flex-shrink: 0; transition: color 0.15s ease-in-out;
}
.search-submit-btn-dynamic:hover { color: var(--primary-blue); }
/* Focus state for the entire search form */
.search-form-dynamic:focus-within { border-color: var(--primary-blue); box-shadow: 0 0 0 2px rgba(0, 120, 212, 0.3); }

/* Search Suggestions */
.suggestions-dropdown {
  display: none; position: absolute; left: 0; right: 0;
  background-color: var(--neutral-white); border: 1px solid var(--border-color); border-top: none;
  border-radius: 0 0 var(--border-radius) var(--border-radius);
  box-shadow: var(--box-shadow-md); max-height: 400px; overflow-y: auto; z-index: 1010;
}
.suggestions-dropdown.active { display: block; }
.suggestion-item {
  display: flex; align-items: center; padding: var(--space-sm) var(--space-md);
  cursor: pointer; color: var(--neutral-primary); text-decoration: none;
  border-bottom: 1px solid var(--neutral-lighter); gap: var(--space-md);
}
.suggestion-item:last-child { border-bottom: none; }
.suggestion-item:hover, .suggestion-item:focus { background-color: var(--neutral-lighter); text-decoration: none; color: var(--neutral-primary); }
.suggestion-item img { width: 32px; height: 32px; object-fit: cover; border-radius: var(--border-radius); flex-shrink: 0; }
.suggestion-item span { font-size: var(--font-size-sm); line-height: 1.3; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.suggestion-item i { font-style: normal; color: var(--neutral-secondary); }

/* Nav Right Items */
.nav-right { display: flex; align-items: center; flex-shrink: 0; gap: var(--space-xs); }
.nav-link { /* Mobile first: Icon only */
  color: var(--neutral-white); padding: var(--space-sm); border-radius: var(--border-radius);
  display: flex; flex-direction: column; align-items: center;
  font-size: 0.65rem; /* Smaller text for mobile icon label */
  text-decoration: none; background: none; border: none; cursor: pointer;
  transition: background-color 0.2s ease; line-height: 1.1; width: 50px; /* Fixed width for alignment */
}
.nav-link span { display: block; margin-top: 2px; } /* Show text below icon on mobile */
.nav-link i { font-size: 1.1rem; margin-bottom: 2px; }
.nav-link:hover, .nav-link.active, .nav-link:focus {
  background-color: rgba(255, 255, 255, 0.1); color: var(--neutral-white); text-decoration: none; outline: none;
}

/* Cart Badge */
.nav-link-cart { position: relative; }
.cart-badge {
  position: absolute; top: 2px; right: 2px; background-color: var(--status-danger);
  color: white; border-radius: 50%; padding: 1px 5px; font-size: 0.7rem;
  font-weight: var(--font-weight-bold); line-height: 1; pointer-events: none; border: 1px solid white;
}
.cart-badge.hide { display: none; }

/* Login/Register Button */
.btn-login-register {
    font-size: var(--font-size-sm); padding: var(--space-sm) var(--space-md);
    background-color: var(--neutral-white); color: var(--primary-blue);
    border: 1px solid var(--primary-blue); font-weight: var(--font-weight-semibold);
}
.btn-login-register:hover, .btn-login-register:focus { background-color: #f0f0f0; color: var(--primary-blue-hover); border-color: var(--primary-blue-hover);}
.btn-login-register i { margin-right: var(--space-sm); }

/* Profile Avatar */
.profile-avatar-link {
    display: inline-flex; align-items: center; justify-content: center;
    width: 32px; height: 32px; border-radius: 50%;
    background-color: var(--neutral-lighter); color: var(--primary-blue);
    font-weight: var(--font-weight-semibold); font-size: var(--font-size-sm);
    text-decoration: none; transition: transform 0.2s ease, box-shadow 0.2s ease;
    border: 1px solid transparent; margin-left: var(--space-sm);
}
.profile-avatar-link:hover, .profile-avatar-link:focus, .profile-avatar-link.active {
    text-decoration: none; box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.4); outline: none;
}
.profile-avatar-initials { line-height: 1; }

/* Mobile Search Toggle */
.search-toggle-btn { display: flex; order: 0; }

/* --- Main Container & Footer --- */
.container { width: 100%; padding: var(--space-lg); margin: 0 auto; flex-grow: 1; max-width: 1200px; }
.app-footer {
  display: none; /* Hidden by default, shown on desktop */
  padding: var(--space-lg); text-align: center; font-size: var(--font-size-sm);
  color: var(--neutral-secondary); background-color: var(--neutral-lighter);
  border-top: 1px solid var(--border-color); margin-top: auto;
}

/* --- Product Grid --- */
.product-index-container h1 { font-size: 1.5rem; }
.product-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg); }
.product-card {
  background-color: var(--neutral-white); border: 1px solid var(--border-color);
  border-radius: var(--border-radius); overflow: hidden; display: flex; flex-direction: column;
  box-shadow: var(--box-shadow-sm); transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.product-card:hover { transform: translateY(-2px); box-shadow: var(--box-shadow-md); }
.product-link { color: inherit; text-decoration: none; flex-grow: 1; display: flex; flex-direction: column; }
.product-link:hover { color: inherit; text-decoration: none; }
.product-image { width: 100%; aspect-ratio: 1 / 1; object-fit: cover; }
.product-info { padding: var(--space-md); flex-grow: 1; }
.product-name {
  font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold); margin-bottom: var(--space-xs);
  line-height: 1.3; height: 2.6em; overflow: hidden; text-overflow: ellipsis;
  display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
}
.product-price { font-weight: var(--font-weight-semibold); color: var(--neutral-primary); margin-bottom: var(--space-xs); font-size: 1rem; }
.product-stock, .product-rating { font-size: 0.8rem; color: var(--neutral-secondary); margin-bottom: var(--space-xs); }
.product-rating .fa-star, .product-rating .fa-star-half-alt { color: #f8d347; }
.product-rating .fa-star-regular { color: var(--neutral-quaternary); }
.add-to-cart-form { padding: 0 var(--space-md) var(--space-md); }
.btn-add-to-cart { width: 100%; padding: var(--space-sm); font-size: var(--font-size-sm); }
.btn-add-to-cart i { margin-right: var(--space-sm); }

/* --- Product Detail --- */
.product-detail-container { background-color: var(--neutral-white); padding: var(--space-xl); border-radius: var(--border-radius); box-shadow: var(--box-shadow-sm); }
.product-detail-main { display: flex; flex-direction: column; gap: var(--space-xl); }
.product-detail-image-section { position: relative; width: 100%; max-width: 450px; margin: 0 auto var(--space-lg) auto; aspect-ratio: 1 / 1; overflow: hidden; border-radius: var(--border-radius); background-color: var(--neutral-lighter); border: 1px solid var(--border-color); }
.product-image-slider-container, .product-detail-image-single { width: 100%; height: 100%; }
.product-image-slides { position: relative; width: 100%; height: 100%; }
.product-image-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; visibility: hidden; transition: opacity 0.5s ease-in-out; }
.product-image-slide.active { opacity: 1; visibility: visible; z-index: 1; }
.product-detail-image { display: block; width: 100%; height: 100%; object-fit: cover; border-radius: inherit; }
.product-image-nav { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 0, 0, 0.4); color: white; border: none; border-radius: 50%; width: 30px; height: 30px; font-size: 1rem; font-weight: bold; line-height: 1; cursor: pointer; z-index: 2; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s ease; opacity: 0.8; -webkit-tap-highlight-color: transparent; }
.product-image-nav:hover, .product-image-nav:focus { background-color: rgba(0, 0, 0, 0.6); opacity: 1; outline: none; }
.product-image-prev { left: var(--space-sm); } .product-image-next { right: var(--space-sm); }
.product-image-dots { position: absolute; bottom: var(--space-sm); left: 50%; transform: translateX(-50%); display: flex; gap: var(--space-sm); z-index: 2; }
.product-image-dot { width: 8px; height: 8px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.6); border: 1px solid rgba(0, 0, 0, 0.3); cursor: pointer; padding: 0; transition: background-color 0.3s ease; -webkit-tap-highlight-color: transparent; }
.product-image-dot.active { background-color: white; }
.product-image-dot:focus { outline: 1px dotted white; outline-offset: 1px; }

.product-detail-info h1 { font-size: 1.75rem; margin-bottom: var(--space-sm); }
.product-short-description { font-size: var(--font-size-sm); color: var(--neutral-secondary); }
.detail-price { font-size: 1.5rem; font-weight: var(--font-weight-semibold); color: var(--neutral-primary); margin-bottom: var(--space-xs); }
.detail-stock { font-size: var(--font-size-sm); color: var(--neutral-secondary); margin-bottom: var(--space-sm); }
.detail-stock .text-danger { color: var(--status-danger) !important; }
.share-section { margin: var(--space-md) 0; }
.share-section .btn { font-weight: var(--font-weight-normal); }
.fallback-share-links { margin-top: var(--space-sm); }
.fallback-share-links small { font-size: 0.8rem; margin-right: var(--space-sm); }
.fallback-share-links a { margin: 0 var(--space-xs); font-size: 1.5rem; color: var(--neutral-secondary); }
.fallback-share-links a:hover { color: var(--primary-blue); }
.detail-rating { margin-bottom: var(--space-lg); font-size: var(--font-size-sm); color: var(--neutral-secondary); }
.detail-rating i { color: #f8d347; } .detail-rating .fa-star-regular { color: var(--neutral-quaternary); }
.product-actions { margin: var(--space-xl) 0; display: flex; flex-direction: column; gap: var(--space-md); }
.quantity-selector { display: flex; align-items: center; margin-bottom: var(--space-md); max-width: 150px; }
.quantity-selector label { font-size: var(--font-size-sm); margin: 0 var(--space-sm) 0 0; }
.quantity-selector input { text-align: center; font-size: 1rem; padding: var(--space-xs); width: 60px; }
.product-actions .btn { width: 100%; padding: var(--space-md); font-size: 1rem; }
.product-specifications { margin-top: var(--space-xl); }
.product-specifications h3 { font-size: 1.25rem; border-bottom: 1px solid var(--border-color); padding-bottom: var(--space-sm); margin-bottom: var(--space-md); }
.product-specifications pre { white-space: pre-wrap; font-size: var(--font-size-sm); background-color: var(--neutral-lighter); padding: var(--space-md); border-radius: var(--border-radius); max-height: 250px; overflow-y: auto; font-family: Consolas, monospace; }

/* Rating Section */
.product-rating-section { margin-top: var(--space-xl); border-top: 1px solid var(--border-color); padding-top: var(--space-xl); }
.product-rating-section h3 { font-size: 1.25rem; margin-bottom: var(--space-md); }
.rating-stars { display: inline-flex; flex-direction: row-reverse; justify-content: flex-end; margin-bottom: var(--space-lg); }
.rating-stars input[type="radio"] { display: none; }
.rating-stars label { display: inline-block; cursor: pointer; font-size: 1.8rem; color: var(--neutral-light); padding: 0 0.1em; margin: 0; transition: color 0.2s ease-in-out; }
.rating-stars label:hover, .rating-stars label:hover ~ label { color: #f8d347; }
.rating-stars input[type="radio"]:checked ~ label { color: #f8d347; }
.rating-stats-container { margin-top: var(--space-xxl); padding-top: var(--space-xl); border-top: 1px solid var(--border-color); }
.rating-stats-container h3 { margin-bottom: var(--space-lg); font-size: 1.25rem; color: var(--neutral-primary); }
.rating-summary { display: flex; align-items: center; margin-bottom: var(--space-xl); gap: var(--space-lg); }
.rating-average { display: flex; align-items: center; }
.rating-average-value { font-size: 2.5em; font-weight: var(--font-weight-semibold); margin-right: var(--space-xs); color: var(--neutral-primary); }
.rating-average .fa-star { font-size: 1.2em; color: var(--neutral-secondary); margin-bottom: 8px; }
.rating-total { font-size: 1rem; color: var(--neutral-secondary); }
.rating-bars { max-width: 400px; margin: 0 auto; }
.rating-bar-row { display: flex; align-items: center; margin-bottom: var(--space-sm); gap: var(--space-md); }
.rating-bar-label { width: 45px; font-size: var(--font-size-sm); color: var(--neutral-primary); text-align: right; flex-shrink: 0; }
.rating-bar-label .fa-star { color: #f8d347; font-size: 0.9em; }
.rating-bar-progress { flex-grow: 1; height: 8px; background-color: var(--neutral-light); border-radius: 4px; overflow: hidden; }
.progress-bar { background-color: var(--primary-blue); color: #fff; display: flex; flex-direction: column; justify-content: center; overflow: hidden; text-align: center; white-space: nowrap; transition: width .6s ease; }
.rating-bar-fill { height: 100%; background-color: var(--status-success); border-radius: 4px; transition: width 0.3s ease-in-out; }
/* Adjust bar colors if needed */
.rating-bar-row:nth-child(1) .rating-bar-fill { background-color: var(--status-success); } /* 5 stars */
.rating-bar-row:nth-child(2) .rating-bar-fill { background-color: #54a854; } /* 4 stars */
.rating-bar-row:nth-child(3) .rating-bar-fill { background-color: var(--status-warning); } /* 3 stars */
.rating-bar-row:nth-child(4) .rating-bar-fill { background-color: #ff8c00; } /* 2 stars */
.rating-bar-row:nth-child(5) .rating-bar-fill { background-color: var(--status-danger); } /* 1 star */
.rating-bar-count { width: 40px; font-size: var(--font-size-sm); color: var(--neutral-secondary); text-align: right; flex-shrink: 0; }

/* --- Auth Pages --- */
.auth-container {
  max-width: 400px; margin: var(--space-xxl) auto; padding: var(--space-xl);
  background-color: var(--neutral-white); border: 1px solid var(--border-color);
  border-radius: var(--border-radius); box-shadow: var(--box-shadow-sm);
}
.auth-container h1 { font-size: 1.5rem; text-align: center; margin-bottom: var(--space-xl); }
.auth-form .btn { width: 100%; margin-top: var(--space-lg); padding: var(--space-md); font-size: 1rem; }
.auth-links { margin-top: var(--space-xl); font-size: var(--font-size-sm); text-align: center; }
.auth-links p { margin-bottom: var(--space-sm); }
.auth-container p:not(.auth-links p) { text-align: center; margin-bottom: var(--space-lg); font-size: var(--font-size-sm); color: var(--neutral-secondary); }
.auth-container form ~ .auth-links { border-top: 1px solid var(--border-color); padding-top: var(--space-lg); }
#otp { text-align: center; font-size: 1.2rem; letter-spacing: 4px; font-family: Consolas, monospace; }

/* --- Cart --- */
.cart-container h1 { font-size: 1.5rem; margin-bottom: var(--space-lg); }
.cart-items { margin-bottom: var(--space-xl); }
.cart-item {
  display: grid; grid-template-columns: 80px 1fr auto;
  grid-template-areas: "image details remove" "image quantity subtotal";
  gap: var(--space-md); background-color: var(--neutral-white);
  padding: var(--space-lg); border-bottom: 1px solid var(--border-color);
  border-radius: var(--border-radius); margin-bottom: var(--space-lg); box-shadow: var(--box-shadow-sm);
}
.cart-item-image { grid-area: image; align-self: center;}
.cart-item-image img { width: 80px; height: 80px; object-fit: cover; border-radius: var(--border-radius); }
.cart-item-details { grid-area: details; }
.cart-item-quantity { grid-area: quantity; display: flex; align-items: center; gap: var(--space-sm); }
.cart-item-subtotal { grid-area: subtotal; text-align: right; font-weight: var(--font-weight-semibold); align-self: center; }
.cart-item-remove { grid-area: remove; text-align: right; align-self: start;}
.cart-item-name { font-size: 1rem; font-weight: var(--font-weight-semibold); margin-bottom: var(--space-xs); }
.cart-item-price { font-size: var(--font-size-sm); color: var(--neutral-secondary); margin-bottom: var(--space-xs); }
.cart-item-stock { font-size: 0.8rem; color: var(--neutral-tertiary); }
.cart-item-quantity label { display: none; }
.cart-item-quantity input { width: 55px; padding: var(--space-xs) var(--space-sm); text-align: center; font-size: var(--font-size-sm); }
.cart-item-quantity .btn-update-qty { font-size: var(--font-size-sm); padding: var(--space-xs) var(--space-md); }
.cart-item-subtotal { font-size: 1rem; white-space: nowrap; }
.cart-item-remove .btn { padding: var(--space-xs) var(--space-sm); font-size: var(--font-size-sm); }

.cart-summary {
  margin-top: var(--space-xl); padding: var(--space-lg); background-color: var(--neutral-lighter);
  border-top: 2px solid var(--primary-blue); border-radius: var(--border-radius); text-align: right;
}
.cart-summary h2 { font-size: 1.3rem; margin-bottom: var(--space-lg); }
#cart-total-value { font-weight: var(--font-weight-semibold); }
.btn-checkout { width: 100%; padding: var(--space-md); font-size: 1.1rem; }

/* --- Checkout --- */
.checkout-container h1 { font-size: 1.5rem; margin-bottom: var(--space-lg);}
.checkout-grid { display: flex; flex-direction: column; gap: var(--space-xl); }
.checkout-address, .checkout-summary { background-color: var(--neutral-white); padding: var(--space-lg); border-radius: var(--border-radius); border: 1px solid var(--border-color); box-shadow: var(--box-shadow-sm); }
.checkout-address h2, .checkout-summary h2 { font-size: 1.2rem; border-bottom: 1px solid var(--border-color); padding-bottom: var(--space-md); margin-bottom: var(--space-lg); }
.saved-address { font-size: var(--font-size-sm); margin-bottom: var(--space-lg); }
.saved-address p { margin-bottom: var(--space-xs); line-height: 1.4; }
.saved-address strong { font-weight: var(--font-weight-semibold); }
#edit-address-btn { margin-top: var(--space-md); }
.address-form h3 { font-size: 1.1rem; }
.checkout-items { max-height: 200px; overflow-y: auto; margin-bottom: var(--space-lg); padding-right: var(--space-sm); }
.checkout-item { display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-md); font-size: var(--font-size-sm); }
.checkout-item-image img { width: 40px; height: 40px; object-fit: cover; border-radius: var(--border-radius); }
.checkout-item-info { flex-grow: 1; }
.checkout-item-price { font-weight: var(--font-weight-semibold); white-space: nowrap;}
.checkout-totals { font-size: var(--font-size-sm); }
.checkout-totals p { display: flex; justify-content: space-between; margin-bottom: var(--space-xs); }
.checkout-totals hr { margin: var(--space-md) 0; border-color: var(--border-color); opacity: 0.5;}
.checkout-totals strong { font-weight: var(--font-weight-bold); }
.checkout-payment h3 { font-size: 1.1rem; margin: var(--space-lg) 0 var(--space-md) 0; }
.payment-option { padding: var(--space-md); border: 1px solid var(--border-color); border-radius: var(--border-radius); background-color: var(--neutral-lighter); opacity: 0.8; margin-bottom: var(--space-sm); cursor: not-allowed; }
.payment-option.selected { border-color: var(--primary-blue); opacity: 1; background-color: var(--primary-blue-light); }
.payment-option label { font-weight: normal; display: flex; align-items: center; cursor: inherit; margin-bottom: 0; }
.payment-option input[type="radio"] { margin-right: var(--space-sm); }
.payment-option i { margin-right: var(--space-xs); color: var(--status-success);}
.place-order-form { margin-top: var(--space-lg); }
.btn-place-order { width: 100%; font-size: 1.1rem; padding: var(--space-md); }

/* --- My Orders --- */
.my-orders-container h1 { font-size: 1.5rem; margin-bottom: var(--space-lg); }
.order-list { display: flex; flex-direction: column; gap: var(--space-lg); }
.order-card { background-color: var(--neutral-white); border-radius: var(--border-radius); border: 1px solid var(--border-color); box-shadow: var(--box-shadow-sm); overflow: hidden; }
.order-header {
  background-color: var(--neutral-lighter); padding: var(--space-md);
  display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center;
  font-size: var(--font-size-sm); color: var(--neutral-secondary); border-bottom: 1px solid var(--border-color);
}
.order-header > div { margin-right: var(--space-lg); margin-bottom: var(--space-xs); white-space: nowrap; }
.order-header strong { color: var(--neutral-primary); }
.order-body { padding: var(--space-lg); display: flex; flex-direction: column; gap: var(--space-md); }
.order-items-images { display: flex; flex-wrap: wrap; gap: var(--space-sm); padding-left: 0; list-style: none; }
.order-item-thumbnail { width: 40px; height: 40px; object-fit: cover; border-radius: var(--border-radius); border: 1px solid var(--border-color); vertical-align: middle; background-color: var(--neutral-lighter); }
.order-item-thumbnail:hover { opacity: 0.85; }
.order-item-thumbnail-placeholder { display: inline-flex; align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: var(--border-radius); border: 1px dashed var(--neutral-secondary); background-color: var(--neutral-light); color: var(--neutral-secondary); font-size: 0.6rem; font-weight: bold; text-align: center; text-decoration: none; vertical-align: middle; line-height: 1; padding: 2px; }
.order-items-list small { display: block; margin-bottom: var(--space-xs); }
.order-details { font-size: var(--font-size-sm); line-height: 1.5;}
.order-details p { margin-bottom: var(--space-xs); }
.order-actions { padding: var(--space-md); text-align: right; border-top: 1px solid var(--border-color); background-color: var(--neutral-lighter); }

/* Status Badge */
.status-badge {
    font-weight: var(--font-weight-semibold); padding: var(--space-xs) var(--space-sm); border-radius: var(--border-radius);
    color: var(--neutral-primary); background-color: var(--neutral-light); font-size: 0.8rem;
    display: inline-block; vertical-align: middle; text-transform: capitalize;
}
.status-pending, .status-badge.status-pending { background-color: var(--status-pending-bg); color: var(--status-pending-text); }
.status-delivered, .status-badge.status-delivered { background-color: var(--status-success-bg); color: var(--status-success); }
.status-cancelled, .status-badge.status-cancelled { background-color: var(--status-danger-bg); color: var(--status-danger); }
.status-approved, .status-badge.status-approved { background-color: var(--status-success-bg); color: var(--status-success); }
.status-rejected, .status-badge.status-rejected { background-color: var(--status-danger-bg); color: var(--status-danger); }
.order-card.status-cancelled, .data-table tr.status-cancelled { opacity: 0.9; }
.data-table tr.status-rejected { opacity: 0.85; }

/* --- Admin/Seller Pages --- */
.admin-manage-container, .admin-dashboard-container { padding: var(--space-xl); }
.admin-manage-container h1, .admin-dashboard-container h1 { font-size: 1.5rem; margin-bottom: var(--space-lg); border-bottom: 1px solid var(--border-color); padding-bottom: var(--space-md); }

/* Responsive Tables */
.table-container { overflow-x: auto; margin-bottom: var(--space-lg); }
.data-table {
  width: 100%; border-collapse: separate; border-spacing: 0; font-size: var(--font-size-sm);
  background-color: var(--neutral-white); border: 1px solid var(--border-color);
  border-radius: var(--border-radius); box-shadow: var(--box-shadow-sm); overflow: hidden;
}
.data-table thead { display: none; background-color: var(--neutral-lighter); font-weight: var(--font-weight-semibold); color: var(--neutral-primary); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.5px; }
.data-table th { padding: var(--space-md); text-align: left; border-bottom: 1px solid var(--border-color); }
/* Mobile Table Rows */
.data-table tbody tr:not([id^="no-"]) { /* Exclude 'no results' row */
  display: block; margin-bottom: var(--space-lg); border: 1px solid var(--border-color);
  border-radius: var(--border-radius); padding: var(--space-md); background-color: var(--neutral-white);
  box-shadow: var(--box-shadow-sm);
}
.data-table tbody tr:last-child { margin-bottom: 0; }
.data-table td { display: block; text-align: right; padding: var(--space-sm) 0; position: relative; border-bottom: 1px dashed var(--neutral-light); }
.data-table td:last-child { border-bottom: none; }
.data-table td::before { content: attr(data-label); position: absolute; left: 0; font-weight: var(--font-weight-semibold); text-align: left; padding-right: var(--space-md); color: var(--neutral-secondary); width: 45%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 0.85em; }
.table-img { max-width: 40px; border-radius: var(--border-radius); display: inline-block; margin-left: 50%; vertical-align: middle; }
.data-table td:has(img) { text-align: right; padding: var(--space-xs) 0; }
.data-table td.actions-cell { padding-top: var(--space-md); }
.data-table td.actions-cell::before { display: none; }
.actions-cell .action-group { border-top: 1px solid var(--neutral-light); padding-top: var(--space-md); margin-top: var(--space-md); text-align: left; }
.actions-cell .action-group:first-child { border-top: none; margin-top: 0; padding-top: 0; }
.actions-cell .action-group-title { font-size: 0.8em; font-weight: bold; color: var(--neutral-secondary); margin-bottom: var(--space-sm); display: block; text-align: left; }
.actions-cell form, .actions-cell .btn { margin: var(--space-xs) 0; display: block; width: 100%; }
.actions-cell .inline-form { display: flex; flex-wrap: wrap; gap: var(--space-sm); align-items: center; }
.actions-cell .inline-form input, .actions-cell .inline-form button { width: auto; flex-grow: 1; }
.actions-cell .inline-form button { flex-grow: 0; flex-shrink: 0; }
.actions-cell select.form-control-sm { margin-bottom: var(--space-xs); font-size: var(--font-size-sm); padding: var(--space-xs) var(--space-sm); height: auto; width: 100%; }
.actions-cell .no-actions-text { display: block; text-align: left; margin-top: var(--space-sm); color: var(--neutral-tertiary); font-style: italic; font-size: 0.85em; }
/* Mobile Order Table Specifics */
.order-table td[data-label="Items"] .order-items-summary { font-size: 0.85em; line-height: 1.5; margin-bottom: var(--space-sm); text-align: left; margin-left: 50%; }
.order-table td[data-label="Items"] .order-items-summary strong { color: var(--neutral-primary); }
.order-table .order-items-images { margin-top: var(--space-xs); justify-content: flex-end; margin-left: 50%; }
.order-table td[data-label="Total"].order-total strong { font-size: 1.1em; color: var(--neutral-primary); }
.order-table td[data-label="Status"] .status-badge { float: right; margin-bottom: var(--space-xs); }
.order-table td[data-label="Status"] small { clear: both; display: block; text-align: right; margin-top: var(--space-xs); font-size: 0.8em; }
/* Mobile Delivery OTP */
.delivery-otp-display { margin-top: var(--space-sm); padding: var(--space-sm); background-color: var(--status-info-bg); border: 1px solid #a9d6f5; border-radius: var(--border-radius); font-size: 0.85rem; text-align: left; clear: both; margin-left: 50%; }
.delivery-otp-display p { margin-bottom: var(--space-xs) !important; }
.delivery-otp-code { font-weight: var(--font-weight-bold); color: var(--primary-blue); font-size: 1.1em; margin: 0 var(--space-xs); letter-spacing: 1px; background-color: var(--neutral-white); padding: 1px 4px; border-radius: var(--border-radius); border: 1px solid var(--primary-blue); }
.delivery-otp-display small { display: block; margin-top: var(--space-xs); color: var(--neutral-secondary); }
.verify-otp-form { display: flex; align-items: center; gap: var(--space-xs); width: 100%; }
.verify-otp-form input[name="otp"] { flex-grow: 1; max-width: 150px; padding: var(--space-xs) var(--space-sm); font-size: var(--font-size-sm); text-align: center; border-radius: var(--border-radius); }
.verify-otp-form button { flex-shrink: 0; width: auto; padding: var(--space-xs) var(--space-sm); font-size: var(--font-size-sm); line-height: 1.4; }

/* Admin Actions Grid */
.admin-actions-grid { display: grid; grid-template-columns: repeat(1, 1fr); gap: var(--space-lg); margin-top: var(--space-lg); }
.admin-action-card { background-color: var(--neutral-white); padding: var(--space-lg); border-radius: var(--border-radius); border: 1px solid var(--border-color); text-align: center; box-shadow: var(--box-shadow-sm); transition: transform 0.15s ease, box-shadow 0.15s ease; color: var(--neutral-primary); text-decoration: none; }
.admin-action-card:hover { transform: translateY(-2px); box-shadow: var(--box-shadow-md); text-decoration: none; }
.admin-action-card i { font-size: 2rem; color: var(--primary-blue); margin-bottom: var(--space-md); }
.admin-action-card h3 { font-size: 1.1rem; margin-bottom: var(--space-xs); color: var(--neutral-primary); }
.admin-action-card p { font-size: var(--font-size-sm); color: var(--neutral-secondary); margin-bottom: var(--space-sm); }

/* --- Error Page --- */
.error-container { text-align: center; padding-top: var(--space-xxl); }
.error-container h1 { color: var(--status-danger); margin-bottom: var(--space-sm); }
.error-container .lead { font-size: 1.1rem; color: var(--neutral-secondary); }
.error-container details { text-align: left; margin-top: var(--space-xl); background: var(--neutral-lighter); padding: var(--space-md); border-radius: var(--border-radius); border: 1px solid var(--border-color); }
.error-container details summary { cursor: pointer; font-weight: var(--font-weight-semibold); }
.error-container details pre { white-space: pre-wrap; font-size: 0.8em; margin-top: var(--space-sm); color: var(--neutral-secondary); font-family: Consolas, monospace; }

/* --- Profile Page --- */
.profile-container { max-width: 800px; margin: var(--space-xl) auto; padding: var(--space-xl); background-color: var(--neutral-white); border: 1px solid var(--border-color); border-radius: var(--border-radius); box-shadow: var(--box-shadow-sm); }
.profile-header { display: flex; flex-direction: column; align-items: center; text-align: center; }
.profile-header h1 { font-size: 1.75rem; margin-bottom: var(--space-xs); }
.profile-header .d-flex { /* Container for name + edit */ flex-wrap: wrap; justify-content: center; }
.profile-header #saved-name-display { font-size: 1.1rem; }
.profile-container > p.text-muted { text-align: center; font-size: var(--font-size-sm); margin-bottom: var(--space-xl); }
.profile-section { margin-top: var(--space-xl); padding-top: var(--space-xl); border-top: 1px solid var(--border-color); }
.profile-section:first-of-type { border-top: none; padding-top: 0; margin-top: var(--space-lg); }
.profile-section h2 { font-size: 1.25rem; margin-bottom: var(--space-lg); color: var(--neutral-primary); font-weight: var(--font-weight-semibold); }
#saved-address-display p { margin-bottom: var(--space-xs); line-height: 1.5; font-size: var(--font-size-sm); }
#saved-address-display strong { font-weight: var(--font-weight-semibold); }
#edit-address-btn, #add-address-btn { margin-top: var(--space-md); font-weight: var(--font-weight-normal); }
.address-form { max-width: 500px; }
.address-form h3 { font-size: 1.1rem; margin-bottom: var(--space-lg); font-weight: var(--font-weight-semibold); }
#cancel-edit-btn { margin-left: var(--space-sm); font-weight: var(--font-weight-normal); }
.dashboards-section .btn, .orders-section .btn { margin-right: var(--space-sm); margin-bottom: var(--space-sm); font-weight: var(--font-weight-normal); }
.logout-section .btn { min-width: 120px; }

/* --- Banner Slider --- */
.banner-slider-container { position: relative; width: 100%; aspect-ratio: 2.5 / 1; overflow: hidden; border-radius: var(--border-radius); background-color: var(--neutral-light); touch-action: pan-y; -webkit-tap-highlight-color: transparent; }
.banner-slides { position: relative; width: 100%; height: 100%; }
.banner-slide { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; visibility: hidden; transition: opacity 0.6s ease-in-out; background-color: var(--neutral-lighter); }
.banner-slide.active { opacity: 1; visibility: visible; z-index: 1; }
.banner-link { display: block; width: 100%; height: 100%; }
.banner-image { display: block; width: 100%; height: 100%; object-fit: cover; }
.banner-nav { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0, 0, 0, 0.4); color: white; border: none; border-radius: 50%; width: 35px; height: 35px; font-size: 0.9rem; cursor: pointer; z-index: 2; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s ease; opacity: 0.8; }
.banner-nav:hover { background-color: rgba(0, 0, 0, 0.6); opacity: 1; }
.banner-prev { left: var(--space-md); } .banner-next { right: var(--space-md); }
.banner-dots { position: absolute; bottom: var(--space-md); left: 50%; transform: translateX(-50%); display: flex; gap: var(--space-sm); z-index: 2; }
.banner-dot { width: 8px; height: 8px; border-radius: 50%; background-color: rgba(255, 255, 255, 0.5); border: 1px solid rgba(0, 0, 0, 0.2); cursor: pointer; padding: 0; transition: background-color 0.3s ease; }
.banner-dot.active { background-color: white; }

/* --- Category Icons --- */
.category-icons-section h2 { font-size: 1.25rem; font-weight: var(--font-weight-semibold); color: var(--neutral-primary); text-align: center; margin-bottom: var(--space-lg); }
.category-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-md); }
.category-item { display: flex; flex-direction: column; align-items: center; text-align: center; padding: var(--space-sm); border-radius: var(--border-radius); transition: background-color 0.2s ease-in-out; color: var(--neutral-primary); text-decoration: none; cursor: pointer; }
.category-item:hover { background-color: var(--neutral-light); text-decoration: none; }
.category-item.active { background-color: var(--primary-blue-light); }
.category-item.active .category-name { color: var(--primary-blue); font-weight: var(--font-weight-semibold); }
.category-icon-wrapper { width: 50px; height: 50px; margin-bottom: var(--space-sm); background-color: var(--neutral-white); border-radius: var(--border-radius); display: flex; align-items: center; justify-content: center; overflow: hidden; border: 1px solid var(--border-color); box-shadow: var(--box-shadow-sm); }
.category-icon { max-width: 60%; max-height: 60%; object-fit: contain; display: block; }
.category-name { font-size: 0.75rem; font-weight: var(--font-weight-normal); line-height: 1.3; color: var(--neutral-secondary); }

/* --- Pincode Lookup Styles --- */
.auto-filled-fields-container { background-color: var(--neutral-lighter); border-left: 3px solid var(--primary-blue); padding: var(--space-sm) var(--space-md); border-radius: 0 var(--border-radius) var(--border-radius) 0; margin-top: calc(var(--space-unit) * -0.5); margin-bottom: var(--space-lg); }
.auto-filled-fields-container .form-group { margin-bottom: var(--space-sm); }
.auto-filled-fields-container .form-group:last-child { margin-bottom: 0; }
.auto-filled-field[readonly] { background-color: var(--neutral-light); opacity: 1; cursor: default; border: 1px solid var(--neutral-quaternary); font-weight: var(--font-weight-semibold); color: var(--neutral-secondary); }
.pincode-status { display: block; margin-top: var(--space-xs); font-size: 0.8em; min-height: 1.2em; transition: color 0.2s ease-in-out; }

/* --- Table Filtering / No Results --- */
.admin-manage-container .form-group.mb-3 { margin-bottom: var(--space-lg) !important; }
#no-admin-orders-found td, #no-seller-orders-found td, #no-admin-products-found td, #no-seller-products-found td, #no-admin-users-found td { text-align: center; padding: var(--space-lg); color: var(--neutral-secondary); font-style: italic; }
tr.hidden { display: none !important; }


/* ============================ */
/* Media Queries                */
/* ============================ */

/* Small devices (landscape phones, 576px and up) */
@media (min-width: 576px) {
    .category-grid { grid-template-columns: repeat(5, 1fr); gap: var(--space-lg); }
    .category-icon-wrapper { width: 55px; height: 55px; }
    .category-name { font-size: 0.8rem; }
    .admin-actions-grid { grid-template-columns: repeat(2, 1fr); }
}

/* Medium devices (tablets, 768px and up) */
@media (min-width: 768px) {
    .container { /* Max width set via variable */ }
    .app-footer { display: block; }
    .product-grid { grid-template-columns: repeat(3, 1fr); }
    .product-name { height: auto; white-space: normal; display: block; -webkit-line-clamp: unset; -webkit-box-orient: unset; }
    .product-detail-main { flex-direction: row; align-items: flex-start; }
    .product-detail-info { flex: 1 1 60%; }
    .product-detail-image-section { flex: 1 1 40%; width: auto; max-width: none; margin: 0; }
    .product-actions { flex-direction: row; align-items: center; }
    .product-actions .btn { width: auto; }
    .quantity-selector { max-width: 120px; margin-bottom: 0; }
    .auth-container { margin: var(--space-xxl) auto; }
    .cart-item { grid-template-columns: 100px 1fr 100px 150px 80px; grid-template-areas: "image details price quantity remove"; align-items: center; padding: var(--space-lg); }
    .cart-item-details { grid-area: details; }
    .cart-item-price { display: block; grid-area: price; text-align: right; font-weight: var(--font-weight-semibold); font-size: 1rem; color: var(--neutral-primary); margin-bottom: 0; }
    .cart-item-quantity { grid-area: quantity; justify-content: center; }
    .cart-item-subtotal { display: none; }
    .cart-item-remove { grid-area: remove; align-self: center; text-align: center; }
    .checkout-grid { flex-direction: row; gap: var(--space-xl); align-items: flex-start; }
    .checkout-address { flex: 1 1 55%; }
    .checkout-summary { flex: 1 1 45%; }

    /* Restore Table Layout */
    .data-table thead { display: table-header-group; }
    .data-table tbody tr:not([id^="no-"]) { display: table-row; margin-bottom: 0; border: none; padding: 0; box-shadow: none; background-color: transparent; border-bottom: 1px solid var(--border-color); border-radius: 0; }
    .data-table tbody tr:last-child { border-bottom: none; }
    .data-table tbody tr:hover { background-color: var(--neutral-lighter); }
    .data-table td { display: table-cell; text-align: left; padding: var(--space-md); vertical-align: middle; border-bottom: none; position: static; margin-left: 0 !important; }
    .data-table td::before { content: none; }
    .table-img { max-width: 50px; margin-left: 0; }
    .data-table td:has(img) { text-align: left; width: 70px; }
    .data-table th[data-label*="Price"], .data-table td[data-label*="Price"], .data-table th[data-label*="Stock"], .data-table td[data-label*="Stock"], .data-table th[data-label*="Total"], .data-table td[data-label*="Total"], .data-table td.order-total { text-align: right; width: 100px; }
    .data-table th[data-label="Status"], .data-table td[data-label="Status"], .data-table td.order-status-cell { text-align: center; width: 130px; }
    .data-table td[data-label="Status"] .status-badge, .order-status-cell .status-badge { float: none; display: inline-block; }
    .order-status-cell small { text-align: center; }
    .data-table th.actions-cell, .data-table td.actions-cell { text-align: right !important; width: 220px; white-space: normal; }
    .actions-cell .action-group { border: none; padding: 0; margin: 0 0 var(--space-sm) 0; display: block; text-align: right; }
    .actions-cell .action-group:last-child { margin-bottom: 0; }
    .actions-cell .action-group-title { display: none; }
    .actions-cell form, .actions-cell .btn { display: inline-block; width: auto; margin: 0 0 0 var(--space-sm); vertical-align: middle; }
    .actions-cell .inline-form { display: inline-flex; width: auto; margin-left: 0; }
    .actions-cell .inline-form + .inline-form { margin-left: var(--space-sm); }
    .actions-cell .verify-otp-form input { max-width: 100px; }
    .actions-cell select.form-control-sm { width: auto; display: inline-block; margin-right: var(--space-xs);}
    .actions-cell .no-actions-text { display: inline-block; text-align: right; width: 100%;}
    .w-md-auto { width: auto !important; }
    .order-table td[data-label="Items"] .order-items-summary { margin-left: 0; text-align: left; }
    .order-table .order-items-images { justify-content: flex-start; margin-left: 0; }
    .delivery-otp-display { margin-left: 0; margin-top: var(--space-xs); padding: var(--space-xs) var(--space-sm); font-size: 0.8rem; display: inline-block; width: auto; text-align: center; }
    .delivery-otp-display p { margin-bottom: 0 !important; }
    .delivery-otp-display small { display: none; }

    /* Header/Navbar Tablet+ */
    .app-header { padding: var(--space-sm) var(--space-lg); }
    .navbar { gap: var(--space-lg); }
    .app-logo .app-name { display: inline; }
    .app-logo { font-size: 1.25rem; }
    .search-toggle-btn { display: none; }
    .search-container-dynamic { display: flex; flex-grow: 1; justify-content: center; order: 0; margin: 0 var(--space-lg); max-width: 500px; position: relative; }
    .nav-left { margin-right: 0; }
    .search-form-dynamic { position: relative; top: auto; left: auto; right: auto; width: 100%; box-shadow: none; opacity: 1; visibility: visible; transform: none; height: 36px; }
    .suggestions-dropdown { position: absolute; top: 100%; left: 0; right: 0; width: 100%; }

    /* Nav links Tablet+ */
    .nav-link { flex-direction: row; font-size: var(--font-size-sm); align-items: center; padding: var(--space-sm) var(--space-md); width: auto; }
    .nav-link span { display: inline; margin-left: var(--space-sm); }
    .nav-link i { font-size: 1rem; margin-bottom: 0; margin-right: 0; }
    .nav-right { gap: var(--space-md); }
    .profile-avatar-link { width: 36px; height: 36px; }
    .btn-login-register { font-size: var(--font-size-sm); }

    /* Category Grid Tablet */
    .category-grid { grid-template-columns: repeat(6, 1fr); gap: var(--space-lg); }
    .category-icon-wrapper { width: 60px; height: 60px; }
    .category-name { font-size: var(--font-size-sm); }
    .category-icons-section { padding: var(--space-lg) 0; }
    .category-icons-section h2 { font-size: 1.4rem; }

    /* Banner Slider Tablet */
    .banner-slider-container { aspect-ratio: 24 / 7; }
    .banner-nav { width: 40px; height: 40px; font-size: 1rem; }
    .banner-dots { bottom: var(--space-lg); }
    .banner-dot { width: 10px; height: 10px; }

    /* Rating Stats Layout */
    .rating-stats-container { display: flex; align-items: flex-start; gap: var(--space-xl); }
    .rating-summary { flex-direction: column; align-items: center; margin-bottom: 0; flex-basis: 150px; flex-shrink: 0; }
    .rating-average-value { font-size: 3em; }
    .rating-total { font-size: 1em; }
    .rating-bars { max-width: none; flex-grow: 1; margin: 0; }

    .profile-container { padding: var(--space-xl); }
}

/* Large devices (desktops, 992px and up) */
@media (min-width: 992px) {
    .container { max-width: 960px; }
    .product-grid { grid-template-columns: repeat(4, 1fr); gap: var(--space-xl); }
    .admin-actions-grid { grid-template-columns: repeat(3, 1fr); gap: var(--space-xl); }
    .navbar { /* Max width inherited */ }
    .category-grid { grid-template-columns: repeat(8, 1fr); gap: var(--space-lg); }
    .category-icon-wrapper { width: 65px; height: 65px; }
    .category-icons-section { padding: var(--space-xl) 0; }
    .banner-slider-container { aspect-ratio: 24 / 6; }
}

/* Extra large devices (large desktops, 1200px and up) */
@media (min-width: 1200px) {
    .container { max-width: 1140px; }
    .admin-actions-grid { grid-template-columns: repeat(4, 1fr); }
    /* .product-grid { grid-template-columns: repeat(5, 1fr); } */
    /* .category-grid { grid-template-columns: repeat(10, 1fr); } */
    .category-icon-wrapper { width: 70px; height: 70px; }
}

/* Mobile Search Bar Specific Overlay/Positioning */
@media (max-width: 767px) {
  .search-container-dynamic { position: static; order: 1; } /* Keep in flow */
  .search-form-dynamic {
      position: absolute; top: calc(100% + var(--space-sm)); /* Below header */
      left: var(--space-lg); right: var(--space-lg);
      width: calc(100% - (2 * var(--space-lg)));
      background-color: var(--neutral-white); border: 1px solid var(--border-color);
      box-shadow: var(--box-shadow-md);
      opacity: 0; visibility: hidden;
      transform: translateY(-10px) scaleY(0.95); transform-origin: top center;
      transition: opacity 0.25s ease, transform 0.25s ease, visibility 0s linear 0.25s;
      z-index: 1005; border-radius: var(--border-radius); height: 40px;
  }
  .search-container-dynamic.active .search-form-dynamic {
      opacity: 1; visibility: visible; transform: translateY(0) scaleY(1);
      transition: opacity 0.25s ease, transform 0.25s ease, visibility 0s linear 0s;
  }
  .suggestions-dropdown {
      top: calc(100% + var(--space-sm) + 40px + var(--space-xs)); /* Below search form */
      left: var(--space-lg); right: var(--space-lg);
      width: calc(100% - (2 * var(--space-lg)));
      z-index: 1010; border-top: 1px solid var(--border-color);
  }
   .search-container-dynamic.active .suggestions-dropdown.active { display: block; }
   .nav-link span { display: block; } /* Ensure text is visible below icon */
}