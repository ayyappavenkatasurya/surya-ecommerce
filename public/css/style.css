/* public/css/style.css */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

:root {
  /* Core Color Palette */
  --primary-color: #007bff;
  --primary-hover: #0056b3;
  --secondary-color: #6c757d;
  --secondary-hover: #5a6268;
  --success-color: #28a745;
  --success-hover: #218838;
  --danger-color: #dc3545;
  --danger-hover: #c82333;
  --warning-color: #ffc107;
  --warning-hover: #e0a800;
  --info-color: #17a2b8;
  --info-hover: #138496;
  --light-color: #f8f9fa;
  --dark-color: #343a40;

  /* Text & Links */
  --text-color: #333;
  --link-color: var(--primary-color);

  /* Layout & Components */
  --card-bg: #ffffff;
  --card-shadow: 0 2px 5px rgba(0, 0, 0, 0.12);
  --border-color: #dee2e6;
  --border-radius: 0.6rem; /* Smoother corners */
  --spacing-unit: 1rem;

  /* Gradient Background Colors */
  --gradient-start: #e9f1ff;
  --gradient-mid1: #d0e0ff;
  --gradient-mid2: #e0ebf7;
  --gradient-end: #f0f5fd;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: 'Roboto', sans-serif;
  line-height: 1.6;
  color: var(--text-color);
  background: linear-gradient(135deg,
      var(--gradient-start) 0%,
      var(--gradient-mid1) 25%,
      var(--gradient-mid2) 55%,
      var(--gradient-end) 100%
    );
  background-attachment: fixed;
  background-size: cover;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

a {
  color: var(--link-color);
  text-decoration: none;
  transition: color 0.2s ease-in-out;
}

a:hover {
  color: var(--primary-hover);
  text-decoration: underline;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

h1, h2, h3, h4, h5, h6 {
  margin-bottom: calc(var(--spacing-unit) * 0.75);
  line-height: 1.3;
  font-weight: 500;
}

p {
  margin-bottom: var(--spacing-unit);
}

ul, ol {
    margin-bottom: var(--spacing-unit);
    padding-left: calc(var(--spacing-unit) * 1.5);
}

/* Utility Classes */
.hidden { display: none !important; }
.hide { display: none !important; } /* Alias */
.text-center { text-align: center; }
.text-danger { color: var(--danger-color) !important; }
.text-success { color: var(--success-color) !important; }
.text-warning { color: var(--warning-color) !important; }
.text-info { color: var(--info-color) !important; }
.text-muted { color: var(--secondary-color) !important; }
.mb-1 { margin-bottom: calc(var(--spacing-unit) * 0.25) !important; }
.mb-2 { margin-bottom: calc(var(--spacing-unit) * 0.5) !important; }
.mb-3 { margin-bottom: var(--spacing-unit) !important; }
.mb-4 { margin-bottom: calc(var(--spacing-unit) * 1.5) !important; }
.mt-1 { margin-top: calc(var(--spacing-unit) * 0.25) !important; }
.mt-2 { margin-top: calc(var(--spacing-unit) * 0.5) !important; }
.mt-3 { margin-top: var(--spacing-unit) !important; }
.mt-4 { margin-top: calc(var(--spacing-unit) * 1.5) !important; }
.ms-1 { margin-left: calc(var(--spacing-unit) * 0.25) !important; } /* Margin start */
.ms-2 { margin-left: calc(var(--spacing-unit) * 0.5) !important; }
.me-1 { margin-right: calc(var(--spacing-unit) * 0.25) !important; }
.me-2 { margin-right: calc(var(--spacing-unit) * 0.5) !important; } /* Margin end */
.me-3 { margin-right: var(--spacing-unit) !important; }
.p-1 { padding: calc(var(--spacing-unit) * 0.25) !important; }
.p-2 { padding: calc(var(--spacing-unit) * 0.5) !important; }
.p-3 { padding: var(--spacing-unit) !important; }
.pt-1 { padding-top: calc(var(--spacing-unit) * 0.25) !important; }
.pt-2 { padding-top: calc(var(--spacing-unit) * 0.5) !important; }
.pt-3 { padding-top: var(--spacing-unit) !important; }
.pb-1 { padding-bottom: calc(var(--spacing-unit) * 0.25) !important; }
.pb-2 { padding-bottom: calc(var(--spacing-unit) * 0.5) !important; }
.pb-3 { padding-bottom: var(--spacing-unit) !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }
.d-block { display: block !important; }
.d-inline-block { display: inline-block !important; }
.align-items-center { align-items: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-center { justify-content: center !important; }
.flex-wrap { flex-wrap: wrap !important; }
.flex-grow-1 { flex-grow: 1 !important; }
.gap-1 { gap: calc(var(--spacing-unit) * 0.25) !important; }
.gap-2 { gap: calc(var(--spacing-unit) * 0.5) !important; }
.gap-3 { gap: var(--spacing-unit) !important; }
.small { font-size: 0.875em; }
.fs-5 { font-size: 1.25rem !important; }
.w-100 { width: 100% !important; }
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
.fw-bold { font-weight: bold !important; }
.fw-normal { font-weight: normal !important; }
.fw-light { font-weight: lighter !important; }
.text-capitalize { text-transform: capitalize !important; }
.border { border: 1px solid var(--border-color) !important; }
.border-top { border-top: 1px solid var(--border-color) !important; }
.border-bottom { border-bottom: 1px solid var(--border-color) !important; }
.rounded { border-radius: var(--border-radius) !important; }


/* Forms */
.inline-form {
    display: inline-block; /* Allows forms to sit side-by-side or wrap */
    margin-bottom: 0; /* Reset margin for inline context */
    vertical-align: middle; /* Align forms vertically with adjacent elements */
}
.inline-form > * {
    margin-bottom: 0; /* Reset margin for elements inside */
    vertical-align: middle; /* Align elements inside vertically */
}
/* Add space between adjacent inline forms */
.inline-form + .inline-form {
    margin-left: calc(var(--spacing-unit) * 0.3);
}


.form-group {
  margin-bottom: calc(var(--spacing-unit) * 0.8);
}

/* Default label style (block) */
label:not(.form-label-inline) {
  display: block;
  margin-bottom: calc(var(--spacing-unit) * 0.3);
  font-weight: 500;
}
/* Inline label style */
label.form-label-inline {
    margin-bottom: 0; /* No bottom margin for inline labels */
    margin-right: calc(var(--spacing-unit) * 0.4); /* Space between label and input */
    font-weight: normal; /* Typically normal weight for inline */
    display: inline-block; /* Ensure it behaves inline */
    vertical-align: middle; /* Align with input */
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="url"],
input[type="number"],
input[type="search"],
textarea,
select {
  width: 100%; /* Default to full width */
  padding: calc(var(--spacing-unit) * 0.6) calc(var(--spacing-unit) * 0.75);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  font-size: 1rem;
  line-height: 1.5;
  background-color: #fff;
  color: var(--text-color); /* Ensure text color is applied */
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

/* Alias class for consistency (used by Bootstrap, good practice) */
.form-control {
    display: block; /* Ensure block level by default */
    width: 100%;
    padding: calc(var(--spacing-unit) * 0.6) calc(var(--spacing-unit) * 0.75);
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: var(--text-color);
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid var(--border-color);
    appearance: none; /* Remove default OS styling */
    border-radius: var(--border-radius);
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}


input[type="number"] {
    appearance: textfield; /* Remove spinners in Firefox */
    -moz-appearance: textfield;
}
/* Remove spinners in Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

textarea {
  resize: vertical; /* Allow vertical resize only */
  min-height: 80px;
}

input:focus,
textarea:focus,
select:focus,
.form-control:focus {
  border-color: var(--primary-color);
  outline: 0;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Standard focus ring */
}

/* Smaller form controls */
.form-control-sm {
  min-height: calc(1.5em + 0.5rem + 2px); /* Bootstrap's standard calc for sm */
  height: auto; /* Allow height to adjust based on content/line-height */
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
  line-height: 1.5; /* Keep consistent line height */
  border-radius: calc(var(--border-radius) * 0.75); /* Slightly less rounded */
}
/* Selects often need explicit height */
select.form-control-sm {
  height: calc(1.8125rem + 2px); /* calc(1.5em + 0.5rem + 2px) based on 0.875rem font-size */
}

/* Buttons */
.btn {
  display: inline-block; /* Default button display */
  font-weight: 400;
  color: #fff; /* Default text color for primary */
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  user-select: none;
  background-color: var(--primary-color);
  border: 1px solid var(--primary-color);
  padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit);
  font-size: 1rem;
  line-height: 1.5;
  border-radius: var(--border-radius);
  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  text-transform: capitalize; /* Added */
}

.btn:hover {
  color: #fff;
  text-decoration: none; /* Remove underline on hover */
  background-color: var(--primary-hover);
  border-color: var(--primary-hover);
}

.btn:focus {
  outline: 0;
  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5); /* Focus ring for primary */
}

.btn:disabled {
  opacity: 0.65;
  cursor: not-allowed;
  pointer-events: none; /* Important for preventing interaction */
}
/* Style for loading state */
.btn.loading {
    opacity: 0.75;
    cursor: wait;
    pointer-events: none; /* Prevent clicks while loading */
}
.btn.loading .fa-spinner { /* Style spinner inside loading button */
    display: inline-block; /* Ensure spinner shows */
}
.btn .fa-spinner {
    display: none; /* Hide spinner by default */
    margin-right: calc(var(--spacing-unit) * 0.25);
    animation: fa-spin 1s infinite linear;
}

/* Button Variants */
.btn-primary { background-color: var(--primary-color); border-color: var(--primary-color); color: #fff;}
.btn-primary:hover { background-color: var(--primary-hover); border-color: var(--primary-hover); }
.btn-primary:focus { box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5); } /* Primary focus color */

.btn-secondary { background-color: var(--secondary-color); border-color: var(--secondary-color); color: #fff; }
.btn-secondary:hover { background-color: var(--secondary-hover); border-color: var(--secondary-hover); }
.btn-secondary:focus { box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5); } /* Secondary focus color */

.btn-success { background-color: var(--success-color); border-color: var(--success-color); color: #fff;}
.btn-success:hover { background-color: var(--success-hover); border-color: var(--success-hover); }
.btn-success:focus { box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.5); }

.btn-danger { background-color: var(--danger-color); border-color: var(--danger-color); color: #fff;}
.btn-danger:hover { background-color: var(--danger-hover); border-color: var(--danger-hover); }
.btn-danger:focus { box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.5); }

.btn-warning { background-color: var(--warning-color); border-color: var(--warning-color); color: #212529;} /* Dark text for light bg */
.btn-warning:hover { background-color: var(--warning-hover); border-color: var(--warning-hover); }
.btn-warning:focus { box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.5); }

.btn-info { background-color: var(--info-color); border-color: var(--info-color); color: #fff;}
.btn-info:hover { background-color: var(--info-hover); border-color: var(--info-hover); }
.btn-info:focus { box-shadow: 0 0 0 0.2rem rgba(23, 162, 184, 0.5); }

.btn-light { background-color: var(--light-color); border-color: var(--light-color); color: #212529;} /* Dark text */
.btn-light:hover { background-color: #e2e6ea; border-color: #dae0e5; }
.btn-light:focus { box-shadow: 0 0 0 0.2rem rgba(248, 249, 250, 0.5); }

.btn-dark { background-color: var(--dark-color); border-color: var(--dark-color); color: #fff;}
.btn-dark:hover { background-color: #23272b; border-color: #1d2124; }
.btn-dark:focus { box-shadow: 0 0 0 0.2rem rgba(52, 58, 64, 0.5); }

/* Outline Buttons */
.btn-outline-primary { color: var(--primary-color); border-color: var(--primary-color); background-color: transparent;}
.btn-outline-primary:hover { color: #fff; background-color: var(--primary-color); border-color: var(--primary-color); }
.btn-outline-primary:focus { box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.5); }

.btn-outline-secondary { color: var(--secondary-color); border-color: var(--secondary-color); background-color: transparent;}
.btn-outline-secondary:hover { color: #fff; background-color: var(--secondary-color); border-color: var(--secondary-color); }
.btn-outline-secondary:focus { box-shadow: 0 0 0 0.2rem rgba(108, 117, 125, 0.5); }

/* Text Buttons (Link-like) */
.btn-text {
    background-color: transparent;
    border-color: transparent;
    color: var(--link-color); /* Use link color */
    padding: calc(var(--spacing-unit) * 0.25) calc(var(--spacing-unit) * 0.4); /* Minimal padding */
    border-radius: var(--border-radius);
    vertical-align: middle; /* Align with other inline elements */
    text-decoration: none; /* No underline by default */
    font-weight: normal; /* Match link weight */
    line-height: 1.5; /* Match button line height */
    text-transform: none; /* Usually no text transform for text buttons */
}
.btn-text:hover,
.btn-text:focus {
    background-color: rgba(0, 0, 0, 0.05); /* Subtle hover background */
    color: var(--primary-hover); /* Darker link color on hover */
    text-decoration: none; /* Keep no underline */
    outline: none;
    box-shadow: none; /* No focus ring needed usually */
}
/* Text button variants */
.btn-text.btn-danger { color: var(--danger-color); }
.btn-text.btn-danger:hover,
.btn-text.btn-danger:focus { color: var(--danger-hover); background-color: rgba(220, 53, 69, 0.1); }
/* Add other variants (success, warning etc.) if needed */

/* Button Sizes */
.btn-sm {
  padding: calc(var(--spacing-unit) * 0.25) calc(var(--spacing-unit) * 0.5);
  font-size: 0.875rem;
  line-height: 1.5;
  border-radius: calc(var(--border-radius) * 0.8); /* Slightly smaller radius */
}
.btn-lg {
    padding: calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit) * 1.25);
    font-size: 1.1rem; /* Slightly larger font */
    line-height: 1.5;
}

/* Block Button */
.btn-block {
    display: block; /* Take full width */
    width: 100%;
}

@keyframes fa-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Alerts */
.alert {
  padding: calc(var(--spacing-unit) * 0.8) var(--spacing-unit);
  margin-bottom: var(--spacing-unit);
  border: 1px solid transparent;
  border-radius: var(--border-radius);
  position: relative; /* For close button positioning */
}
.alert-success { color: #155724; background-color: #d4edda; border-color: #c3e6cb; }
.alert-danger { color: #721c24; background-color: #f8d7da; border-color: #f5c6cb; }
.alert-warning { color: #856404; background-color: #fff3cd; border-color: #ffeeba; }
.alert-info { color: #0c5460; background-color: #d1ecf1; border-color: #bee5eb; }
.alert-link { font-weight: bold; color: inherit; text-decoration: underline; }

/* Close button for alerts */
.close-alert {
  position: absolute;
  top: 50%; /* Center vertically */
  right: 10px; /* Position on the right */
  transform: translateY(-50%); /* Fine-tune vertical centering */
  font-size: 1.2rem;
  line-height: 1;
  background: none;
  border: none;
  color: inherit; /* Inherit color from alert type */
  opacity: 0.7;
  cursor: pointer;
  padding: 0.2rem 0.4rem; /* Clickable area */
}
.close-alert:hover { opacity: 1; }

/* Toast Notifications */
.toast-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1055; /* High z-index */
  width: auto; /* Adjusts to content */
  max-width: 350px; /* Prevent overly wide toasts */
  pointer-events: none; /* Container doesn't block clicks */
}

.toast {
  background-color: var(--card-bg);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: var(--border-radius);
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  margin-bottom: var(--spacing-unit);
  padding: calc(var(--spacing-unit) * 0.75);
  padding-right: calc(var(--spacing-unit) * 2.5); /* Space for close button */
  position: relative;
  opacity: 0; /* Start hidden */
  transform: translateX(110%); /* Start off-screen */
  transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
  width: 100%;
  pointer-events: auto; /* Toasts themselves are interactive */
  min-height: 50px;
  display: flex;
  align-items: center;
  overflow: hidden;
}

.toast.show {
  opacity: 1; /* Fade in */
  transform: translateX(0); /* Slide in */
}

.toast.hide {
    opacity: 0; /* Fade out */
    transition: opacity 0.3s ease-in, transform 0.3s ease-in;
    /* Transform can be added here too if a slide-out animation is desired */
    /* transform: translateX(110%); */
}

.toast-body {
  flex-grow: 1; /* Takes available space */
  font-size: 0.9rem;
  line-height: 1.4;
}

.toast-close-btn {
  position: absolute;
  top: 50%; /* Center vertically */
  right: 15px; /* Position on the right */
  transform: translateY(-50%); /* Fine-tune centering */
  background: transparent;
  border: none;
  font-size: 1.4rem;
  line-height: 1;
  font-weight: bold;
  color: inherit; /* Inherit color from toast type */
  opacity: 0.6;
  cursor: pointer;
  padding: 0.1rem 0.4rem; /* Clickable area */
}
.toast-close-btn:hover {
  opacity: 1;
  text-decoration: none;
}

/* Toast Variants */
.toast-success { background-color: #d4edda; color: #155724; border-left: 5px solid var(--success-color); }
.toast-success .toast-close-btn { color: #155724; }
.toast-danger { background-color: #f8d7da; color: #721c24; border-left: 5px solid var(--danger-color); }
.toast-danger .toast-close-btn { color: #721c24; }
.toast-warning { background-color: #fff3cd; color: #856404; border-left: 5px solid var(--warning-color); }
.toast-warning .toast-close-btn { color: #856404; }
.toast-info { background-color: #d1ecf1; color: #0c5460; border-left: 5px solid var(--info-color); }
.toast-info .toast-close-btn { color: #0c5460; }


/* ============================ */
/* Header Styles                */
/* ============================ */

.app-header {
  background-color: var(--primary-color);
  color: var(--light-color);
  padding: calc(var(--spacing-unit) * 0.4) var(--spacing-unit); /* Slightly reduced padding */
  position: sticky; /* Keeps header visible */
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000; /* Above most content */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px; /* Max width for content */
  margin: 0 auto; /* Center content */
  gap: calc(var(--spacing-unit) * 0.5); /* Base gap */
  min-height: 40px; /* Ensure minimum height */
}

/* Left Side (Logo) */
.nav-left {
  display: flex;
  align-items: center;
  flex-shrink: 0; /* Prevent shrinking on small screens */
}

.app-logo {
  display: flex;
  align-items: center;
  color: var(--light-color);
  font-size: 1.1rem; /* Slightly adjusted size */
  font-weight: 500;
  text-decoration: none;
  margin-right: calc(var(--spacing-unit) * 0.5); /* Adjusted margin */
}
.app-logo:hover,
.app-logo:focus {
  color: var(--warning-color); /* Use theme variable for hover */
  text-decoration: none;
}
.app-logo i {
  margin-right: calc(var(--spacing-unit) * 0.3);
  font-size: 1.2em; /* Relative to logo font size */
}
.app-logo .app-name {
    display: none; /* Hide name on mobile by default */
}

/* Center Section (Search - Desktop/Tablet) */
.search-container-dynamic {
  flex-grow: 1; /* Takes available space on desktop/tablet */
  display: flex;
  justify-content: center; /* Centers the form within */
  margin: 0 calc(var(--spacing-unit) * 0.5);
  max-width: 500px; /* Limit search bar width */
  position: relative; /* For suggestions dropdown */
}

/* --- Search Bar Black & White Styling --- */
.search-form-dynamic {
  display: flex; /* Use flex for input and button */
  align-items: center;
  width: 100%;
  height: 38px; /* Consistent height */
  background-color: #ffffff; /* White background */
  border: 1px solid #ccc; /* Subtle grey border */
  border-radius: var(--border-radius);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  overflow: hidden; /* Ensures children conform to border-radius */
}
/* Optional: slightly enhance border on focus within */
.search-form-dynamic:focus-within {
    /* border-color: var(--primary-color); */ /* Already handled by input focus */
    /* box-shadow: 0 0 0 0.1rem rgba(0, 123, 255, 0.25); */ /* Optional outer glow */
}


#search-input-dynamic {
  flex-grow: 1; /* Take available space */
  padding: 0 calc(var(--spacing-unit) * 0.75);
  border: none; /* No border inside the form */
  background-color: transparent; /* Inherit form background */
  color: var(--dark-color); /* Black text color */
  font-size: 0.9rem;
  height: 100%; /* Fill height */
  outline: none; /* Rely on general input:focus style */
}
#search-input-dynamic::placeholder {
  color: #6c757d; /* Darker gray placeholder */
  opacity: 1; /* Ensure placeholder is visible */
}

.search-submit-btn-dynamic {
  background: transparent; /* Inherit form background */
  border: none;
  color: var(--dark-color); /* Black icon color */
  padding: 0 calc(var(--spacing-unit) * 0.75);
  cursor: pointer;
  font-size: 1rem;
  height: 100%; /* Fill height */
  display: flex;
  align-items: center;
  flex-shrink: 0; /* Prevent button shrinking */
  transition: background-color 0.15s ease-in-out; /* Add transition for hover */
}
.search-submit-btn-dynamic:hover {
  background-color: rgba(0, 0, 0, 0.05); /* Subtle hover effect */
}
/* --- End Search Bar Styling --- */

/* Suggestions Dropdown */
.suggestions-dropdown {
    display: none; /* Hidden by default */
    position: absolute;
    top: 100%; /* Position below the search form */
    left: 0;
    right: 0;
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-top: none; /* Avoid double border */
    border-radius: 0 0 var(--border-radius) var(--border-radius); /* Bottom corners rounded */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    max-height: 400px; /* Limit height and allow scroll */
    overflow-y: auto;
    z-index: 1010; /* Above other content */
}
.suggestions-dropdown.active { display: block; } /* Show when active */

.suggestion-item {
    display: flex;
    align-items: center;
    padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 0.75);
    cursor: pointer;
    color: var(--text-color);
    text-decoration: none; /* Ensure it looks like a link/button */
    border-bottom: 1px solid var(--border-color); /* Separator */
    gap: calc(var(--spacing-unit) * 0.5); /* Space between elements */
}
.suggestion-item:last-child { border-bottom: none; } /* Remove last border */

.suggestion-item:hover,
.suggestion-item:focus {
    background-color: var(--light-color); /* Hover effect */
    text-decoration: none;
    color: var(--text-color);
    outline: none; /* Remove default focus outline */
}
.suggestion-item img {
    width: 35px;
    height: 35px;
    object-fit: cover;
    border-radius: calc(var(--border-radius) * 0.75);
    flex-shrink: 0; /* Prevent image shrinking */
}
.suggestion-item span {
    font-size: 0.9rem;
    line-height: 1.3;
    overflow: hidden; /* Prevent long text breaking layout */
    text-overflow: ellipsis;
    white-space: nowrap;
}
/* Optional: style for category/type hint */
.suggestion-item i {
    font-style: normal;
    color: var(--secondary-color);
    font-size: 0.85em;
}


/* Right Side (Nav Links, Profile, Login) */
.nav-right {
  display: flex;
  align-items: center;
  flex-shrink: 0; /* Prevent shrinking */
  gap: calc(var(--spacing-unit) * 0.4); /* Base gap for mobile */
}

/* General Nav Link Styling (Mobile Base: Icon Only) */
.nav-link {
  color: var(--light-color);
  padding: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 0.6); /* Padding for touch */
  border-radius: var(--border-radius);
  display: flex;
  flex-direction: column; /* Stack icon and (hidden) text */
  align-items: center;
  font-size: 0.7rem; /* Small text (hidden on mobile) */
  text-decoration: none;
  background: none;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
  line-height: 1.2;
}
.nav-link span { display: none; } /* Hide text on mobile */
.nav-link i { font-size: 1.2rem; margin-bottom: 2px; } /* Icon size */

.nav-link:hover,
.nav-link.active,
.nav-link:focus {
  background-color: rgba(255, 255, 255, 0.15); /* Subtle hover/active background */
  color: #fff;
  text-decoration: none;
  outline: none; /* Remove default focus outline */
}

/* Cart Badge */
.nav-link-cart { position: relative; } /* Container for the badge */
.cart-badge {
  position: absolute;
  top: 0px; /* Position relative to link */
  right: 0px;
  background-color: var(--danger-color);
  color: white;
  border-radius: 50%;
  padding: 1px 5px; /* Small padding */
  font-size: 0.7rem; /* Small font */
  font-weight: bold;
  line-height: 1; /* Tight line height */
  pointer-events: none; /* Badge shouldn't interfere with clicks */
}
.cart-badge.hide { display: none; } /* Hide badge if empty */

/* Login/Register Button */
.btn-login-register {
    font-size: 0.85rem;
    padding: calc(var(--spacing-unit) * 0.4) calc(var(--spacing-unit) * 0.8);
    background-color: rgba(255, 255, 255, 0.9); /* Brighter button */
    color: var(--primary-color); /* Use primary text color */
    border: none;
    font-weight: 500;
    /* Inherits .btn styles for transitions, border-radius etc. */
}
.btn-login-register:hover,
.btn-login-register:focus {
    background-color: #fff; /* Fully opaque on hover */
    color: var(--primary-hover);
    /* Focus style is inherited from .btn:focus */
}
.btn-login-register i {
    margin-right: calc(var(--spacing-unit) * 0.3); /* Space between icon and text */
}


/* Profile Avatar */
.profile-avatar-link {
    display: inline-flex; /* Use inline-flex for centering */
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 50%; /* Circular */
    background-color: var(--light-color);
    color: var(--primary-color); /* Use primary color for text */
    font-weight: 500;
    font-size: 0.9rem; /* Font size for initials */
    text-decoration: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    border: 1px solid transparent; /* Placeholder for potential focus border */
    margin-left: calc(var(--spacing-unit) * 0.2); /* Spacing */
    overflow: hidden; /* Ensure content stays within circle */
}
.profile-avatar-link:hover,
.profile-avatar-link:focus,
.profile-avatar-link.active {
    text-decoration: none;
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3); /* Whiteish ring on hover/focus */
    outline: none;
    /* transform: scale(1.05); */ /* Optional: slight scale effect */
}
.profile-avatar-initials { line-height: 1; } /* Ensure initials are centered vertically */

/* Mobile Search Toggle Button */
.search-toggle-btn {
    /* Inherits .nav-link styles */
    display: flex; /* Ensure it's visible on mobile (overridden later for desktop) */
}

/* Container and Footer */
.container {
  width: 100%;
  padding: var(--spacing-unit); /* Padding around content */
  margin: 0 auto; /* Center container */
  flex-grow: 1; /* Allows container to fill space between header and footer */
}

.app-footer {
  padding: var(--spacing-unit);
  text-align: center;
  font-size: 0.85rem;
  color: var(--secondary-color);
  background-color: rgba(248, 249, 250, 0.9); /* Slightly transparent light background */
  border-top: 1px solid var(--border-color);
  margin-top: auto; /* Pushes footer to bottom */
  /* No border-radius on full-width footer */
}


/* Product Index */
.product-index-container h1 { font-size: 1.5rem; }
.search-bar-container { display: none; } /* Assuming header search is primary */

.product-grid {
  display: grid;
  /* Mobile: Start with 2 columns */
  grid-template-columns: repeat(2, 1fr);
  gap: calc(var(--spacing-unit) * 0.75); /* Gap between cards */
}

.product-card {
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  overflow: hidden; /* Keep image corners rounded */
  display: flex;
  flex-direction: column; /* Stack image, info, button */
  box-shadow: var(--card-shadow);
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
.product-card:hover {
    transform: translateY(-3px); /* Lift effect on hover */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Slightly stronger shadow */
}

.product-link {
  color: inherit; /* Inherit text color */
  text-decoration: none; /* Remove underline */
  flex-grow: 1; /* Allow link area to grow */
  display: flex;
  flex-direction: column; /* Ensure content inside stacks */
}
.product-link:hover{
  color: inherit; /* Keep text color on hover */
  text-decoration: none;
}

.product-image {
  width: 100%;
  aspect-ratio: 1 / 1; /* Square image */
  object-fit: cover; /* Cover the area, crop if needed */
}

.product-info {
  padding: calc(var(--spacing-unit) * 0.6);
  flex-grow: 1; /* Allow info section to fill space */
}

.product-name {
  font-size: 0.95rem;
  font-weight: 500;
  margin-bottom: calc(var(--spacing-unit) * 0.25);
  line-height: 1.3;
  height: 2.6em; /* Approx 2 lines */
  overflow: hidden; /* Hide overflow */
  text-overflow: ellipsis; /* Add ellipsis */
  /* Multi-line ellipsis (non-standard but widely supported) */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.product-price {
  font-weight: 500;
  color: var(--success-color);
  margin-bottom: calc(var(--spacing-unit) * 0.2);
  font-size: 1rem;
}

.product-stock,
.product-rating {
  font-size: 0.8rem;
  color: var(--secondary-color);
  margin-bottom: calc(var(--spacing-unit) * 0.2);
}
.product-rating .fa-star, .product-rating .fa-star-half-alt { color: #f8d347; } /* Gold stars */
.product-rating .fa-star-regular { color: #e4e5e9; } /* Empty star color */

.add-to-cart-form { padding: 0 calc(var(--spacing-unit) * 0.6) calc(var(--spacing-unit) * 0.6); } /* Padding for button */
.btn-add-to-cart {
  width: 100%; /* Full width button */
  padding: calc(var(--spacing-unit) * 0.5);
  font-size: 0.9rem;
}
.btn-add-to-cart i { margin-right: calc(var(--spacing-unit) * 0.25); }

/* Product Detail */
.product-detail-container {
  background-color: var(--card-bg);
  padding: var(--spacing-unit);
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
}
.product-detail-main {
    /* Mobile: Stack image and info */
    display: flex;
    flex-direction: column;
    gap: var(--spacing-unit);
}
.product-detail-image {
    width: 100%;
    max-width: 450px; /* Limit max width on mobile */
    margin: 0 auto var(--spacing-unit) auto; /* Center image */
    aspect-ratio: 1 / 1;
    overflow: hidden;
    border-radius: calc(var(--border-radius) + 2px); /* Slightly more rounded */
    background-color: #f8f9fa; /* Light background */
    position: relative;
}
.product-detail-image img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
}
.product-detail-info h1 {
    font-size: 1.6rem;
    margin-bottom: calc(var(--spacing-unit) * 0.5);
}
.detail-price {
    font-size: 1.4rem;
    font-weight: bold;
    color: var(--success-color);
    margin-bottom: calc(var(--spacing-unit) * 0.3);
}
.detail-stock {
    font-size: 0.9rem;
    color: var(--secondary-color);
    margin-bottom: calc(var(--spacing-unit) * 0.3);
}
.detail-rating {
    margin-bottom: calc(var(--spacing-unit) * 0.75);
    color: var(--secondary-color);
    font-size: 0.9rem; /* Match stock font size */
}
.detail-rating i { color: #f8d347; } /* Gold stars */
.detail-rating .fa-star-regular { color: #e4e5e9; } /* Empty star color */

.product-actions {
    margin: calc(var(--spacing-unit) * 1.2) 0;
    display: flex;
    /* Mobile: Stack quantity and button */
    flex-direction: column;
    gap: calc(var(--spacing-unit) * 0.5);
}
.quantity-selector {
    display: flex;
    align-items: center;
    margin-bottom: calc(var(--spacing-unit) * 0.5); /* Space below on mobile */
    max-width: 150px; /* Limit width */
}
.quantity-selector label {
    margin: 0 calc(var(--spacing-unit) * 0.4) 0 0;
    font-size: 0.9rem;
    font-weight: 500; /* Make label slightly bolder */
    flex-shrink: 0; /* Prevent label shrinking */
}
.quantity-selector input {
    text-align: center;
    font-size: 1rem;
    padding: calc(var(--spacing-unit) * 0.4);
    max-width: 60px; /* Limit input width */
    /* Inherits general input styles */
}
.product-actions .btn {
    width: 100%; /* Full width button on mobile */
    padding: calc(var(--spacing-unit) * 0.6) var(--spacing-unit);
    font-size: 1rem;
}

/* Share Section */
.share-section { margin: calc(var(--spacing-unit) * 1.2) 0; }
.share-section h3 { font-size: 1.1rem; margin-bottom: 0.5rem; }
.fallback-share-links { margin-top: 0.5rem; }
.fallback-share-links a { margin: 0 0.3rem; font-size: 1.5rem; color: var(--secondary-color); }
.fallback-share-links a:hover { color: var(--primary-color); }

.product-specifications { margin-top: calc(var(--spacing-unit) * 1.5); }
.product-specifications h3 { font-size: 1.1rem; border-bottom: 1px solid var(--border-color); padding-bottom: 0.3rem; margin-bottom: 0.5rem;}
.product-specifications pre {
    white-space: pre-wrap; /* Allow text to wrap */
    word-wrap: break-word; /* Break long words */
    font-size: 0.9rem;
    background-color: #f8f8f8;
    padding: calc(var(--spacing-unit) * 0.5);
    border-radius: var(--border-radius);
    max-height: 200px; /* Limit height and allow scroll */
    overflow-y: auto;
    font-family: monospace; /* Use monospace for specs */
    line-height: 1.4;
}

/* Rating Section */
.product-rating-section {
    margin-top: var(--spacing-unit);
    border-top: 1px solid var(--border-color);
    padding-top: var(--spacing-unit);
}
.product-rating-section h3 {
    margin-bottom: calc(var(--spacing-unit) * 0.6);
    font-size: 1.2em;
}

/* Star input (for user rating) */
.rating-stars { display: inline-flex; flex-direction: row-reverse; justify-content: flex-end; margin-bottom: calc(var(--spacing-unit) * 0.8); }
.rating-stars input[type="radio"] { display: none; } /* Hide radio buttons */
.rating-stars label {
    display: inline-block;
    cursor: pointer;
    font-size: 1.8rem;
    color: lightgray; /* Default empty star color */
    padding: 0 0.1em; /* Small spacing */
    margin: 0;
    transition: color 0.2s ease-in-out;
}
/* Highlight stars on hover */
.rating-stars label:hover,
.rating-stars label:hover ~ label { color: #f8d347; } /* Gold hover */
/* Highlight checked stars */
.rating-stars input[type="radio"]:checked ~ label { color: #f8d347; } /* Gold checked */

/* Rating Statistics Display */
.rating-stats-container {
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #eee;
    /* Mobile: Stack summary and bars */
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.rating-stats-container h3 { margin-bottom: 15px; font-size: 1.4em; color: #333; }

.rating-summary {
    display: flex;
    align-items: center;
    /* Mobile: Center summary elements */
    justify-content: center;
    gap: 15px;
    text-align: center;
}
.rating-average { display: flex; align-items: baseline; /* Align number and star */ }
.rating-average-value {
    font-size: 2.5em;
    font-weight: 500;
    margin-right: 5px;
    color: #222;
    line-height: 1;
}
.rating-average .fa-star {
    font-size: 1.2em;
    color: #666; /* Color for the star next to average */
    /* margin-bottom: 8px; */ /* Removed, baseline align handles it */
}
.rating-total { font-size: 0.95em; color: #555; }

.rating-bars {
    /* Mobile: Takes full width */
    width: 100%;
    max-width: 400px; /* Limit width on larger screens if needed */
    margin: 0 auto; /* Center bars */
}
.rating-bar-row {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    gap: 10px;
}
.rating-bar-label {
    width: 45px;
    font-size: 0.9em;
    color: #444;
    text-align: right;
    flex-shrink: 0; /* Prevent label shrinking */
}
.rating-bar-label .fa-star { color: #f8c107; font-size: 0.9em; } /* Star color in label */
.rating-bar-progress {
    flex-grow: 1; /* Take remaining space */
    height: 8px;
    background-color: #e0e0e0; /* Background of the bar track */
    border-radius: 4px;
    overflow: hidden; /* Clip the fill */
}
/* Using standard progress structure for better accessibility/semantics */
.progress {
    background-color: #e9ecef; /* Fallback track color */
    border-radius: 4px;
    display: flex;
    height: 0.5rem; /* Match .rating-bar-progress height */
    overflow: hidden;
    font-size: .75rem;
}
.progress-bar {
    background-color: var(--primary-color); /* Default fill color */
    color: #fff;
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow: hidden;
    text-align: center;
    white-space: nowrap;
    transition: width .6s ease;
    height: 100%; /* Ensure fill takes full height */
    border-radius: 4px; /* Match track radius */
}
/* Colors for different rating bars */
.rating-bar-row:nth-child(1) .progress-bar { background-color: #28a745; } /* 5 stars */
.rating-bar-row:nth-child(2) .progress-bar { background-color: #84c54c; } /* 4 stars */
.rating-bar-row:nth-child(3) .progress-bar { background-color: #ffc107; } /* 3 stars */
.rating-bar-row:nth-child(4) .progress-bar { background-color: #fd7e14; } /* 2 stars */
.rating-bar-row:nth-child(5) .progress-bar { background-color: #dc3545; } /* 1 star */

.rating-bar-count {
    width: 40px;
    font-size: 0.9em;
    color: #555;
    text-align: right;
    flex-shrink: 0; /* Prevent count shrinking */
}


/* Auth Pages (Login, Register, Verify etc.) */
.auth-container {
  max-width: 450px; /* Constrain width */
  margin: var(--spacing-unit) auto; /* Center horizontally, add vertical margin */
  padding: calc(var(--spacing-unit) * 1.5); /* More padding */
  background-color: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
}
.auth-container h1 { font-size: 1.6rem; text-align: center; margin-bottom: var(--spacing-unit); }
.auth-form .btn { width: 100%; margin-top: calc(var(--spacing-unit) * 0.5); padding: calc(var(--spacing-unit) * 0.7); }
.auth-links { margin-top: var(--spacing-unit); font-size: 0.9rem; text-align: center; }
.auth-links p { margin-bottom: calc(var(--spacing-unit) * 0.4); }
.auth-container p { text-align: center; margin-bottom: var(--spacing-unit);}
/* Add separator line if links follow a form */
.auth-container form + .auth-links {
    border-top: 1px solid var(--border-color);
    padding-top: var(--spacing-unit);
}
/* Specific styling for OTP input */
#otp { text-align: center; font-size: 1.2rem; letter-spacing: 4px; font-family: monospace; }


/* Cart Page */
.cart-container h1 { font-size: 1.5rem; margin-bottom: var(--spacing-unit); }
.cart-items { margin-bottom: var(--spacing-unit); }

/* Mobile Cart Item Layout */
.cart-item {
  display: grid;
  /* Mobile Grid: Image | Details | Remove */
  /*             Image | Qty     | Subtotal */
  grid-template-columns: 80px 1fr auto; /* Image width, flexible details, auto actions */
  grid-template-areas:
    "image details remove"
    "image quantity subtotal";
  gap: calc(var(--spacing-unit) * 0.5) calc(var(--spacing-unit) * 0.75); /* Row gap, Column gap */
  background-color: var(--card-bg);
  padding: calc(var(--spacing-unit) * 0.75);
  border-bottom: 1px solid var(--border-color);
  border-radius: var(--border-radius);
  margin-bottom: var(--spacing-unit); /* Space between items */
  box-shadow: var(--card-shadow);
}

.cart-item-image { grid-area: image; align-self: center; } /* Vertically center image */
.cart-item-image img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: calc(var(--border-radius) * 0.75);
}
.cart-item-details { grid-area: details; }
.cart-item-quantity { grid-area: quantity; display: flex; align-items: center; gap: 0.3rem; }
.cart-item-subtotal { grid-area: subtotal; text-align: right; font-weight: 500; align-self: center; }
.cart-item-remove { grid-area: remove; text-align: right; align-self: start;}

.cart-item-name { font-size: 1rem; font-weight: 500; margin-bottom: calc(var(--spacing-unit) * 0.2); line-height: 1.3; }
.cart-item-price { font-size: 0.9rem; color: var(--secondary-color); margin-bottom: calc(var(--spacing-unit) * 0.2); }
.cart-item-stock { font-size: 0.8rem; color: #6c757d; }

/* Hide quantity label visually, but keep for accessibility */
.cart-item-quantity label { /* display: none; */ /* Or use .visually-hidden class */ position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
.cart-item-quantity input { width: 50px; padding: calc(var(--spacing-unit) * 0.3) calc(var(--spacing-unit) * 0.4); text-align: center; font-size: 0.9rem; /* Inherits .form-control styles */ }
.cart-item-quantity .btn-update-qty { /* Inherits .btn .btn-sm styles */ font-size: 0.8rem; padding: calc(var(--spacing-unit) * 0.3) calc(var(--spacing-unit) * 0.6); line-height: 1; } /* Ensure small size */

.cart-item-subtotal { font-size: 0.9rem; white-space: nowrap; }
.cart-item-subtotal .item-subtotal-value { font-weight: 500; }

.cart-item-remove .btn { /* Inherits .btn .btn-sm .btn-text .btn-danger */ padding: 0.1rem 0.4rem; font-size: 0.8rem; line-height: 1; } /* Ensure small size for text button */

/* Cart Summary */
.cart-summary {
  margin-top: calc(var(--spacing-unit) * 1.5);
  padding: var(--spacing-unit);
  background-color: #f8f9fa; /* Light background for summary */
  border-top: 2px solid var(--primary-color); /* Highlight top */
  border-radius: var(--border-radius);
  text-align: right; /* Align content right */
}
.cart-summary h2 { font-size: 1.3rem; margin-bottom: calc(var(--spacing-unit) * 0.75); text-align: left; /* Align heading left */}
.cart-summary p { display: flex; justify-content: space-between; margin-bottom: calc(var(--spacing-unit) * 0.3); }
.cart-summary strong { font-weight: bold; }
.cart-summary hr { margin: var(--spacing-unit) 0; border-color: var(--border-color); opacity: 0.5;}
.btn-checkout { width: 100%; padding: calc(var(--spacing-unit) * 0.7); font-size: 1.1rem; margin-top: calc(var(--spacing-unit) * 0.5); }


/* Checkout Page */
.checkout-container h1 { font-size: 1.5rem; margin-bottom: var(--spacing-unit);}
/* Mobile: Stack address and summary */
.checkout-grid { display: flex; flex-direction: column; gap: var(--spacing-unit); }

.checkout-address, .checkout-summary {
    background-color: var(--card-bg);
    padding: var(--spacing-unit);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    box-shadow: var(--card-shadow);
}
.checkout-address h2, .checkout-summary h2 { font-size: 1.2rem; border-bottom: 1px solid var(--border-color); padding-bottom: calc(var(--spacing-unit) * 0.4); margin-bottom: var(--spacing-unit); }

.saved-address { font-size: 0.95rem; margin-bottom: var(--spacing-unit); }
.saved-address p { margin-bottom: calc(var(--spacing-unit) * 0.2); line-height: 1.4; }
#edit-address-btn { margin-top: calc(var(--spacing-unit) * 0.5); }
.address-form h3 { font-size: 1.1rem; } /* Heading for add/edit form */

/* Order Summary within Checkout */
.checkout-summary h2 { margin-bottom: calc(var(--spacing-unit) * 0.5); }
.checkout-items { max-height: 200px; overflow-y: auto; margin-bottom: var(--spacing-unit); padding-right: calc(var(--spacing-unit) * 0.5); /* Space for scrollbar */ border-bottom: 1px solid var(--border-color); padding-bottom: calc(var(--spacing-unit) * 0.5); }
.checkout-item { display: flex; align-items: center; gap: calc(var(--spacing-unit) * 0.5); margin-bottom: calc(var(--spacing-unit) * 0.5); font-size: 0.9rem; }
.checkout-item-image img {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: calc(var(--border-radius) * 0.75);
}
.checkout-item-info { flex-grow: 1; line-height: 1.3; }
.checkout-item-price { font-weight: 500; white-space: nowrap;}

.checkout-totals { font-size: 0.95rem; }
.checkout-totals p { display: flex; justify-content: space-between; margin-bottom: calc(var(--spacing-unit) * 0.3); }
.checkout-totals hr { margin: calc(var(--spacing-unit) * 0.5) 0; border-color: var(--border-color); opacity: 0.5;}
.checkout-totals strong { font-weight: bold; }
.checkout-totals .total-price strong { font-size: 1.1em; color: var(--success-color); } /* Highlight final price */

.checkout-payment h3 { font-size: 1.1rem; margin: calc(var(--spacing-unit) * 1) 0 calc(var(--spacing-unit) * 0.5) 0; }
.payment-option {
    padding: 0.7rem 0.6rem; /* Slightly more padding */
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    background-color: #f8f9fa; /* Light background */
    margin-bottom: 0.5rem;
    cursor: pointer;
    transition: border-color 0.2s ease, background-color 0.2s ease;
}
.payment-option.selected {
    border-color: var(--primary-color);
    background-color: #e7f3ff; /* Light blue background when selected */
    border-width: 1.5px; /* Slightly thicker border */
}
.payment-option label {
    font-weight: normal;
    display: flex;
    align-items: center;
    cursor: pointer;
    margin-bottom: 0; /* Remove default label margin */
    width: 100%; /* Make label fill the option */
}
.payment-option input[type="radio"] { margin-right: 0.5rem; flex-shrink: 0; }
.payment-option i { margin-right: 0.3rem; color: var(--success-color); font-size: 1.1em; } /* Slightly larger icon */

.place-order-form { margin-top: var(--spacing-unit); }
.btn-place-order { width: 100%; font-size: 1.1rem; padding: calc(var(--spacing-unit) * 0.7); }


/* My Orders Page */
.my-orders-container h1 { font-size: 1.5rem; margin-bottom: var(--spacing-unit); }
.order-list { display: flex; flex-direction: column; gap: var(--spacing-unit); }

.order-card {
  background-color: var(--card-bg);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-color);
  box-shadow: var(--card-shadow);
  overflow: hidden; /* Clip contents to rounded corners */
}

.order-header {
  background-color: #f8f9fa; /* Light header background */
  padding: calc(var(--spacing-unit) * 0.6);
  display: flex;
  flex-wrap: wrap; /* Allow wrapping on small screens */
  justify-content: space-between;
  align-items: center;
  font-size: 0.85rem;
  color: var(--secondary-color);
  border-bottom: 1px solid var(--border-color);
  gap: calc(var(--spacing-unit) * 0.5); /* Add gap between wrapped items */
}
.order-header > div { margin-right: calc(var(--spacing-unit) * 0.8); /* Original spacing */ margin-bottom: calc(var(--spacing-unit) * 0.2); white-space: nowrap; }
.order-header strong { color: var(--text-color); }
.order-status { display: inline-block; } /* Status badge holder */

.order-body { padding: calc(var(--spacing-unit) * 0.75); display: flex; flex-direction: column; gap: calc(var(--spacing-unit) * 0.75); }

/* Order Item Images (Thumbnails) */
.order-items-images { display: flex; flex-wrap: wrap; gap: 8px; padding-left: 0; list-style: none; margin-bottom: 0; /* Reset default list margin */ }
.order-item-thumbnail {
    display: inline-block; /* Allows inline display with gap */
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: calc(var(--border-radius) * 0.75);
    border: 1px solid var(--border-color);
    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
    vertical-align: middle; /* Align with text if needed */
    background-color: #f8f9fa; /* Placeholder background */
}
.order-item-thumbnail:hover { opacity: 0.85; transform: scale(1.05); z-index: 10; /* Bring to front on hover */ }

/* Placeholder for "+X more" items */
.order-item-thumbnail-placeholder {
    display: inline-flex; /* Use flex for centering */
    align-items: center;
    justify-content: center;
    width: 40px; height: 40px;
    border-radius: calc(var(--border-radius) * 0.75);
    border: 1px dashed var(--secondary-color);
    background-color: var(--light-color);
    color: var(--secondary-color);
    font-size: 0.6rem; font-weight: bold;
    text-align: center;
    text-decoration: none;
    transition: background-color 0.2s ease-in-out;
    vertical-align: middle;
    line-height: 1;
    padding: 2px; /* Small padding inside */
}
.order-item-thumbnail-placeholder:hover { background-color: #e2e6ea; text-decoration: none; }

.order-details { font-size: 0.9rem; line-height: 1.5;}
.order-details p { margin-bottom: calc(var(--spacing-unit) * 0.3); }
.order-actions { padding: 0 calc(var(--spacing-unit) * 0.75) calc(var(--spacing-unit) * 0.75); text-align: right; }
.order-actions .btn { /* Use smaller buttons */
    font-size: 0.875rem;
    padding: calc(var(--spacing-unit) * 0.3) calc(var(--spacing-unit) * 0.6);
}


/* Status Badge Styling */
.status-badge {
    font-weight: 500; /* Slightly bolder */
    padding: 0.2em 0.5em;
    border-radius: var(--border-radius);
    color: #333; /* Default text color */
    background-color: var(--secondary-color); /* Default background */
    font-size: 0.85em;
    display: inline-block; /* Allows margin/padding */
    vertical-align: middle;
    text-transform: capitalize; /* Capitalize status text */
    line-height: 1.4; /* Ensure consistent height */
    white-space: nowrap; /* Prevent wrapping */
}
/* Status Colors */
.status-pending, .status-badge.status-pending { background-color: #fff3cd; color: #856404; } /* Yellow */
.status-approved, .status-badge.status-approved { background-color: #cce5ff; color: #004085; } /* Blueish (if needed) */
.status-out-for-delivery, .status-badge.status-out-for-delivery { background-color: #d1ecf1; color: #0c5460; } /* Cyan */
.status-delivered, .status-badge.status-delivered { background-color: #d4edda; color: #155724; } /* Green */
.status-cancelled, .status-badge.status-cancelled { background-color: #f8d7da; color: #721c24; } /* Red */
.status-rejected, .status-badge.status-rejected { background-color: #f8d7da; color: #721c24; } /* Red */

/* Opacity for specific statuses in lists/tables */
.order-card.status-cancelled, .data-table tr.status-cancelled { opacity: 0.85; } /* Slightly faded */
.data-table tr.status-rejected { opacity: 0.80; } /* More faded for rejected */
/* Optional: style pending rows differently if desired */
/* .data-table tr.status-pending { background-color: #fffefa; } */

/* Admin/Seller Pages */
.admin-manage-container, .admin-dashboard-container { padding: var(--spacing-unit); }
.admin-manage-container h1, .admin-dashboard-container h1 { font-size: 1.5rem; margin-bottom: var(--spacing-unit); border-bottom: 1px solid var(--border-color); padding-bottom: calc(var(--spacing-unit) * 0.5); }


/* Responsive Tables */
.table-container { overflow-x: auto; /* Allows horizontal scroll on small screens if table is too wide */ margin-bottom: var(--spacing-unit); }

/* Base Table Styles */
.data-table {
  width: 100%;
  border-collapse: separate; /* Allows border-radius on table */
  border-spacing: 0;
  font-size: 0.9rem;
  background-color: var(--card-bg); /* Background for the container/mobile cards */
  border: 1px solid var(--border-color); /* Border around the whole thing */
  border-radius: var(--border-radius);
  box-shadow: var(--card-shadow);
  overflow: hidden; /* Clip content to rounded corners */
}

/* Table Head (Hidden on Mobile by Default) */
.data-table thead {
  display: none; /* Hide header on mobile */
  background-color: #f8f9fa; /* Light background for header */
  font-weight: 500;
  color: var(--dark-color);
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.data-table th {
  padding: calc(var(--spacing-unit) * 0.7) calc(var(--spacing-unit) * 0.6);
  text-align: left;
  border-bottom: 1px solid var(--border-color); /* Separator */
}

/* Mobile Table Rows (Card-like View) */
.data-table tbody tr {
  display: block; /* Stack rows */
  margin-bottom: calc(var(--spacing-unit) * 1); /* Space between cards */
  border: 1px solid var(--border-color); /* Border for each card */
  border-radius: var(--border-radius);
  padding: calc(var(--spacing-unit) * 0.8);
  background-color: var(--card-bg); /* Ensure card background */
  box-shadow: none; /* Use table container shadow */
  /* box-shadow: var(--card-shadow); */ /* Alternative: Shadow per card */
  transition: box-shadow 0.2s ease-in-out;
}
.data-table tbody tr:last-child { margin-bottom: 0; } /* No margin on last card */
/* Optional: Hover effect on mobile cards */
/* .data-table tbody tr:hover { box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1); } */

/* Mobile Table Cells */
.data-table td {
  display: block; /* Stack cells within a row */
  text-align: right; /* Align cell content right */
  padding: calc(var(--spacing-unit) * 0.4) 0; /* Vertical padding, no horizontal */
  position: relative; /* For label positioning */
  border-bottom: 1px dashed #eee; /* Separator between cells */
}
.data-table td:last-child { border-bottom: none; } /* No border on last cell */

/* Mobile Data Labels (using ::before pseudo-element) */
.data-table td::before {
  content: attr(data-label); /* Get label text from data-label attribute */
  position: absolute;
  left: 0; /* Align label left */
  top: calc(var(--spacing-unit) * 0.4); /* Align with cell padding */
  font-weight: 500; /* Make label slightly bold */
  text-align: left;
  padding-right: 10px; /* Space between label and content */
  color: var(--secondary-color); /* Muted label color */
  width: 40%; /* Assign width to label */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.85em; /* Smaller label font */
}

/* Styling for images within mobile table cells */
.table-img {
    max-width: 50px; /* Limit image size */
    max-height: 50px; /* Limit image height */
    border-radius: calc(var(--border-radius) * 0.75);
    display: inline-block; /* Allow alignment */
    margin-left: 45%; /* Push image to the right, past the label area */
    vertical-align: middle;
}
/* Adjust padding for cells containing images */
.data-table td:has(img) {
    padding: 5px 0; /* Less vertical padding for image rows */
}
/* Ensure image alignment is correct */
.data-table td[data-label="Image"]::before {
    top: 50%; /* Try to vertically center label with image */
    transform: translateY(-50%);
}


/* Mobile Actions Cell */
.data-table td.actions-cell {
    padding-top: calc(var(--spacing-unit) * 0.6);
    border-bottom: none; /* Often the last cell, remove border */
}
.data-table td.actions-cell::before { display: none; } /* No label for actions cell */

.actions-cell .action-group {
    /* Group actions visually on mobile */
    border-top: 1px solid #eee;
    padding-top: calc(var(--spacing-unit) * 0.6);
    margin-top: calc(var(--spacing-unit) * 0.6);
    text-align: left; /* Align action content left */
}
.actions-cell .action-group:first-child {
    border-top: none; /* No top border for the first group */
    margin-top: 0;
    padding-top: 0;
}
.actions-cell .action-group-title {
    font-size: 0.8em;
    font-weight: bold;
    color: var(--secondary-color);
    margin-bottom: calc(var(--spacing-unit) * 0.4);
    display: block; /* Ensure it takes its own line */
    text-align: left;
    text-transform: uppercase;
}
/* Make buttons/forms take full width within mobile actions */
.actions-cell form, .actions-cell .btn {
    margin: calc(var(--spacing-unit) * 0.25) 0;
    display: block;
    width: 100%;
}
/* Style inline forms within actions cell for mobile */
.actions-cell .inline-form {
    display: flex; /* Use flex for better control */
    flex-wrap: wrap;
    gap: calc(var(--spacing-unit) * 0.4);
    align-items: center;
    width: 100%; /* Take full width */
}
.actions-cell .inline-form input,
.actions-cell .inline-form button {
    width: auto; /* Allow flex to size */
    flex-grow: 1; /* Input takes most space */
}
.actions-cell .inline-form button {
    flex-grow: 0; /* Button takes needed space */
    flex-shrink: 0;
}
.actions-cell select.form-control-sm {
    margin-bottom: 5px;
    font-size: 0.9rem;
    padding: calc(var(--spacing-unit)*0.4) calc(var(--spacing-unit)*0.6);
    height: auto; /* Let height be automatic */
    width: 100%; /* Full width select on mobile */
}
/* Text shown if no actions are available */
.actions-cell .no-actions-text {
    display: block;
    text-align: left;
    margin-top: calc(var(--spacing-unit) * 0.5);
    color: var(--secondary-color);
    font-style: italic;
    font-size: 0.85em;
}

/* Mobile Order Table Specifics */
/* Align item summary text next to the label */
.order-table td[data-label="Items"] .order-items-summary {
    font-size: 0.85em;
    line-height: 1.5;
    margin-bottom: calc(var(--spacing-unit) * 0.5);
    text-align: left; /* Align text left */
    margin-left: 45%; /* Push past the label */
    display: block; /* Ensure block display */
}
.order-table td[data-label="Items"] .order-items-summary strong { color: var(--dark-color); }
/* Align item images next to the label */
.order-table .order-items-images {
    margin-top: calc(var(--spacing-unit) * 0.4);
    justify-content: flex-start; /* Align images left */
    margin-left: 45%; /* Push past the label */
}
/* Ensure total price is prominent */
.order-table td[data-label="Total"].order-total strong {
    font-size: 1.1em;
    color: var(--success-color);
}
/* Align status badge right, below the label */
.order-table td[data-label="Status"] .status-badge {
    float: right; /* Align badge right */
    margin-bottom: 5px; /* Space below badge */
}
/* Align status date text right */
.order-table td[data-label="Status"] small {
    clear: both; /* Clear float */
    display: block;
    text-align: right;
    margin-top: calc(var(--spacing-unit) * 0.3);
    font-size: 0.8em;
}

/* Mobile Delivery OTP Display */
.delivery-otp-display {
    margin-top: 10px;
    padding: 8px 12px;
    background-color: #e6ffed; /* Light green background */
    border: 1px solid #b7e4c7; /* Green border */
    border-radius: var(--border-radius);
    font-size: 0.9rem;
    text-align: left; /* Align text left */
    clear: both; /* Clear floats if any */
    margin-left: 45%; /* Push past the label */
}
.delivery-otp-display p { margin-bottom: 3px !important; /* Reduce margin */ line-height: 1.3; }
.delivery-otp-code {
    font-weight: bold;
    color: #2b9348; /* Darker green */
    font-size: 1.1em;
    margin: 0 3px;
    letter-spacing: 1px;
    background-color: #fff; /* White background for code */
    padding: 1px 4px;
    border-radius: calc(var(--border-radius) * 0.5);
    font-family: monospace;
}
.delivery-otp-display small { display: block; margin-top: 3px; color: #555; font-size: 0.8em; }

/* Mobile Verify OTP Form */
.verify-otp-form {
    display: flex;
    align-items: center;
    gap: 5px;
    width: 100%; /* Full width form */
    margin-top: 8px; /* Space above form */
}
.verify-otp-form input[name="otp"] {
    flex-grow: 1; /* Input takes available space */
    max-width: 150px;
    padding: calc(var(--spacing-unit)*0.4) calc(var(--spacing-unit)*0.6);
    font-size: 0.9rem;
    text-align: center;
    border-radius: var(--border-radius);
    letter-spacing: 2px; /* Space out OTP digits */
}
.verify-otp-form button {
    flex-shrink: 0; /* Prevent button shrinking */
    width: auto; /* Auto width for button */
    /* Use small button styles */
    padding: calc(var(--spacing-unit)*0.4) calc(var(--spacing-unit)*0.6);
    font-size: 0.9rem;
    line-height: 1.4;
}

/* Admin Actions Grid */
.admin-actions-grid {
    display: grid;
    /* Mobile: 1 column */
    grid-template-columns: repeat(1, 1fr);
    gap: var(--spacing-unit);
    margin-top: var(--spacing-unit);
}
.admin-action-card {
    background-color: var(--card-bg);
    padding: var(--spacing-unit);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    text-align: center;
    box-shadow: var(--card-shadow);
    transition: transform 0.2s, box-shadow 0.2s;
    color: var(--text-color); /* Ensure text is readable */
    text-decoration: none; /* Remove underline from link */
}
.admin-action-card:hover {
    transform: translateY(-3px); /* Lift effect */
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    text-decoration: none;
    color: var(--primary-color); /* Change text color on hover */
}
.admin-action-card i {
    font-size: 2rem;
    color: var(--primary-color); /* Icon color */
    margin-bottom: 0.5rem;
    display: block; /* Ensure icon takes block space */
}
.admin-action-card h3 {
    font-size: 1.1rem;
    margin-bottom: 0.3rem;
    color: inherit; /* Inherit color from card hover */
}
.admin-action-card p {
    font-size: 0.85rem;
    color: var(--secondary-color);
    margin-bottom: 0.5rem; /* Space below description */
    line-height: 1.4;
}


/* Error Page */
.error-container { text-align: center; padding-top: 2rem; padding-bottom: 2rem; }
.error-container h1 { color: var(--danger-color); margin-bottom: 0.5rem; font-size: 2rem; }
.error-container .lead { font-size: 1.1rem; color: var(--secondary-color); }
.error-container .btn { margin-top: 1.5rem; } /* Space above button */
.error-container details {
    text-align: left; /* Align details content left */
    margin-top: 1.5rem;
    background: #f1f1f1;
    padding: 0.7rem 1rem;
    border-radius: var(--border-radius);
    max-width: 700px; /* Limit width of details */
    margin-left: auto;
    margin-right: auto;
    border: 1px solid #ddd;
}
.error-container details summary { cursor: pointer; font-weight: 500; color: var(--secondary-hover); }
.error-container details pre {
    white-space: pre-wrap; /* Wrap stack trace */
    word-wrap: break-word;
    font-size: 0.8em;
    margin-top: 0.7rem;
    background-color: #fff; /* White background for stack trace */
    padding: 0.5rem;
    border-radius: calc(var(--border-radius) * 0.8);
    max-height: 300px; /* Limit height */
    overflow-y: auto;
    color: #333;
}


/* Profile Page */
.profile-container {
    max-width: 800px; /* Limit width */
    margin: var(--spacing-unit) auto; /* Center */
    padding: calc(var(--spacing-unit) * 1.5);
    background-color: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    box-shadow: var(--card-shadow);
}
.profile-container h1 { font-size: 1.8rem; text-align: center; margin-bottom: calc(var(--spacing-unit) * 0.5); }
.profile-container > p.text-muted { text-align: center; font-size: 1.1rem; margin-bottom: calc(var(--spacing-unit) * 1.5); }

.profile-section {
    margin-top: calc(var(--spacing-unit) * 1.5);
    padding-top: calc(var(--spacing-unit) * 1);
    border-top: 1px solid var(--border-color);
}
.profile-section:first-of-type {
    border-top: none; /* No border above the first section */
    padding-top: 0;
    margin-top: calc(var(--spacing-unit) * 0.8);
}
.profile-section h2 {
    font-size: 1.4rem;
    margin-bottom: calc(var(--spacing-unit) * 0.8);
    color: var(--primary-color); /* Section heading color */
    font-weight: 500;
}
/* Address Display */
#saved-address-display p { margin-bottom: calc(var(--spacing-unit) * 0.3); line-height: 1.5; font-size: 1rem; }
#saved-address-display strong { font-weight: 500; margin-right: 5px; } /* Style address field labels */
#edit-address-btn, #add-address-btn { margin-top: calc(var(--spacing-unit) * 0.5); }

/* Address Form */
.address-form { max-width: 500px; margin-top: var(--spacing-unit); } /* Limit form width */
.address-form h3 { font-size: 1.2rem; margin-bottom: var(--spacing-unit); font-weight: 500; }
#cancel-edit-btn { margin-left: calc(var(--spacing-unit) * 0.5); } /* Space between save/cancel */

/* Dashboard/Orders Links */
.dashboards-section .btn,
.orders-section .btn {
    margin-right: 10px; margin-bottom: 10px; /* Spacing for buttons */
}
.logout-section .btn { min-width: 120px; /* Ensure logout button has decent width */ margin-top: var(--spacing-unit); }


/* Banner Slider Styles */
.banner-slider-container {
  position: relative;
  width: 100%;
  /* Mobile: Taller aspect ratio */
  aspect-ratio: 2.5 / 1;
  overflow: hidden;
  border-radius: var(--border-radius);
  background-color: #e0e0e0; /* Placeholder background */
  margin-bottom: var(--spacing-unit); /* Space below banner */
}

.banner-slides {
  position: relative; /* Contains absolute slides */
  width: 100%;
  height: 100%;
}

.banner-slide {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0; /* Hidden by default */
  visibility: hidden;
  transition: opacity 0.6s ease-in-out; /* Fade transition */
  background-color: #eee; /* Fallback background per slide */
}

.banner-slide.active {
  opacity: 1; /* Show active slide */
  visibility: visible;
  z-index: 1; /* Ensure active slide is on top */
}

.banner-link {
  display: block; /* Make link fill the slide */
  width: 100%;
  height: 100%;
}

.banner-image {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover; /* Cover the slide area */
}

/* Navigation Arrows */
.banner-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%); /* Center vertically */
  background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent background */
  color: white;
  border: none;
  border-radius: 50%; /* Circular buttons */
  width: 35px; /* Mobile size */
  height: 35px;
  font-size: 0.9rem; /* Mobile icon size */
  cursor: pointer;
  z-index: 2; /* Above slides */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease, opacity 0.2s ease;
  opacity: 0.7; /* Slightly transparent */
}

.banner-nav:hover {
  background-color: rgba(0, 0, 0, 0.6); /* Darker on hover */
  opacity: 1;
}

.banner-prev { left: 10px; } /* Position left arrow */
.banner-next { right: 10px; } /* Position right arrow */

/* Navigation Dots */
.banner-dots {
  position: absolute;
  bottom: 10px; /* Mobile position */
  left: 50%;
  transform: translateX(-50%); /* Center horizontally */
  display: flex;
  gap: 8px; /* Space between dots */
  z-index: 2; /* Above slides */
}

.banner-dot {
  width: 8px; /* Mobile dot size */
  height: 8px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5); /* Semi-transparent dot */
  border: 1px solid rgba(0, 0, 0, 0.2); /* Subtle border */
  cursor: pointer;
  padding: 0; /* Reset padding */
  transition: background-color 0.3s ease;
}

.banner-dot.active { background-color: white; } /* Active dot is white */


/* ============================ */
/* Category Icons Section       */
/* ============================ */

.category-icons-section {
    padding: var(--spacing-unit); /* Base padding */
    background-color: rgba(255, 255, 255, 0.5); /* Optional: slightly different background */
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-unit);
}

.category-icons-section h2 {
  font-size: 1.2rem;
  font-weight: 500;
  color: var(--dark-color);
  text-align: center;
  margin-bottom: calc(var(--spacing-unit) * 1);
}

.category-grid {
  display: grid;
  /* Mobile: Start with 4 columns */
  grid-template-columns: repeat(4, 1fr);
  gap: calc(var(--spacing-unit) * 0.6);
}

.category-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: calc(var(--spacing-unit) * 0.4);
  border-radius: calc(var(--border-radius) * 0.8);
  transition: background-color 0.2s ease-in-out, transform 0.15s ease-in-out;
  color: var(--text-color);
  text-decoration: none;
  cursor: pointer;
}

.category-item:hover {
  background-color: rgba(0, 0, 0, 0.05);
  text-decoration: none;
  transform: translateY(-2px);
}

/* Style for the currently selected category filter */
.category-item.active {
  background-color: rgba(0, 123, 255, 0.1); /* Light primary background */
  transform: translateY(-1px); /* Subtle lift */
}
.category-item.active .category-name {
  color: var(--primary-color);
  font-weight: 500; /* Bold active name */
}


.category-icon-wrapper {
  width: 55px; /* Mobile size */
  height: 55px;
  margin-bottom: calc(var(--spacing-unit) * 0.4);
  background-color: #ffffff; /* White background */
  border-radius: 15px; /* "Squircle" shape */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.05);
  transition: box-shadow 0.2s ease;
}
.category-item:hover .category-icon-wrapper {
    box-shadow: 0 2px 4px rgba(0,0,0,0.15); /* Enhance shadow on hover */
}

.category-icon {
  max-width: 65%; /* Icon size relative to wrapper */
  max-height: 65%;
  object-fit: contain; /* Scale nicely */
  display: block;
}

.category-name {
  font-size: 0.7rem; /* Mobile font size */
  font-weight: 400;
  line-height: 1.3;
  color: #424242; /* Muted text color */
  /* Optional: Limit name length */
   /* height: 1.9em; */ /* Limit to roughly 2 lines */
   /* overflow: hidden; */
   /* text-overflow: ellipsis; */
}

/* ============================ */
/* Media Queries                */
/* ============================ */

/* Mobile Specific Styles (Less than 768px) */
@media (max-width: 767.98px) { /* Use .98 suffix for better breakpoint precision */
  .app-footer { display: none; } /* Hide footer on small screens */

  /* Mobile Header Search Bar Handling */
  .search-container-dynamic {
      flex-grow: 0; /* Don't grow */
      max-width: none;
      order: 1; /* Position after logo/before nav links */
      margin: 0;
      position: static; /* Not relative on mobile */
  }
  .search-toggle-btn {
      order: 0; /* Position toggle before icons */
      display: flex; /* Ensure toggle is displayed */
  }
  .nav-left { margin-right: auto; } /* Push nav links right */

  .search-form-dynamic {
      position: absolute; /* Position below header */
      top: calc(100% + 8px); /* Header height + gap */
      left: var(--spacing-unit);
      right: var(--spacing-unit);
      width: calc(100% - (2 * var(--spacing-unit))); /* Full width minus padding */
      background-color: var(--card-bg); /* White background */
      border: 1px solid var(--border-color); /* Standard border */
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      opacity: 0; /* Hidden state */
      visibility: hidden;
      transform: translateY(-10px) scaleY(0.95);
      transform-origin: top center;
      transition: opacity 0.25s ease, visibility 0s linear 0.25s, transform 0.25s ease;
      z-index: 1005; /* Above content, below header */
      border-radius: var(--border-radius);
      height: 42px;
  }
  /* Ensure mobile search input/button styles match desktop */
  #search-input-dynamic { color: var(--dark-color); background-color: transparent; }
  #search-input-dynamic::placeholder { color: #6c757d; }
  .search-submit-btn-dynamic { color: var(--dark-color); background-color: transparent; }
  .search-submit-btn-dynamic:hover { background-color: rgba(0, 0, 0, 0.05); }

  /* Active state for mobile search */
  .search-container-dynamic.active .search-form-dynamic {
      opacity: 1;
      visibility: visible;
      transform: translateY(0) scaleY(1);
      transition: opacity 0.25s ease, visibility 0s linear 0s, transform 0.25s ease;
  }

  /* Mobile Suggestions Dropdown Position */
  .suggestions-dropdown {
      position: absolute; /* Position relative to viewport or nearest positioned ancestor */
      top: calc(100% + 8px + 42px + 4px); /* Position below the revealed search bar */
      left: var(--spacing-unit);
      right: var(--spacing-unit);
      width: calc(100% - (2 * var(--spacing-unit))); /* Match search bar width */
      z-index: 1010; /* Above search bar */
      border-radius: var(--border-radius);
      border-top: 1px solid var(--border-color); /* Add top border */
      max-height: 300px; /* Limit height on mobile */
  }
  /* Ensure dropdown shows when search is active */
  .search-container-dynamic.active .suggestions-dropdown.active { display: block; }

  /* Make auth container take less vertical space on mobile */
   .auth-container { margin-top: calc(var(--spacing-unit)*0.5); margin-bottom: calc(var(--spacing-unit)*0.5); padding: var(--spacing-unit); }

   /* Ensure tables are in card view (already default, but explicit here for clarity) */
    .data-table thead { display: none; }
    .data-table tbody tr { display: block; margin-bottom: var(--spacing-unit); /* etc. */ }
    .data-table td { display: block; /* etc. */ }
    .data-table td::before { content: attr(data-label); /* etc. */ }
}


/* Tablet and Up (768px+) */
@media (min-width: 768px) {
  .container { max-width: 720px; } /* Bootstrap sm breakpoint */
  .app-footer { display: block; } /* Show footer */

  /* Header Adjustments */
  .app-header { padding: calc(var(--spacing-unit) * 0.5) var(--spacing-unit); }
  .navbar { gap: var(--spacing-unit); }
  .app-logo .app-name { display: inline; } /* Show app name */
  .app-logo { font-size: 1.2rem; }
  .search-toggle-btn { display: none; } /* Hide mobile toggle */
  .search-container-dynamic {
      display: flex; /* Ensure desktop search container is visible */
      order: 0; /* Reset order */
      position: relative; /* Ensure relative for dropdown */
      flex-grow: 1; /* Allow it to grow */
      margin: 0 var(--spacing-unit); /* Add horizontal margins */
  }
  /* Reset mobile search form styles */
  .search-form-dynamic {
      position: relative;
      top: auto; left: auto; right: auto; width: 100%;
      box-shadow: none;
      opacity: 1; visibility: visible; transform: none;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
      height: 38px;
      background-color: #ffffff; /* Ensure white background */
      border: 1px solid #ccc; /* Ensure border */
  }
   /* Desktop Suggestions Dropdown Position */
  .suggestions-dropdown {
      position: absolute; top: 100%; left: 0; right: 0; width: 100%;
      max-height: 400px;
      border-top: none; /* Remove top border added for mobile */
      border-radius: 0 0 var(--border-radius) var(--border-radius);
   }
  /* --- End Desktop Search Specific Styles --- */

  /* Nav Link Adjustments (Icon + Text) */
  .nav-link { flex-direction: row; font-size: 0.9rem; align-items: center; padding: calc(var(--spacing-unit) * 0.4) calc(var(--spacing-unit) * 0.8); }
  .nav-link span { display: inline; margin-left: calc(var(--spacing-unit) * 0.3); }
  .nav-link i { font-size: 1rem; margin-bottom: 0; margin-right: calc(var(--spacing-unit) * 0.2); /* Add space between icon and text */ }
  .nav-right { gap: calc(var(--spacing-unit) * 0.75); }
  .profile-avatar-link { width: 38px; height: 38px; }
  .btn-login-register { font-size: 0.9rem; }


  /* Product Grid */
  .product-grid { grid-template-columns: repeat(3, 1fr); }
  /* Remove fixed height on product name */
  .product-name { height: auto; white-space: normal; display: block; -webkit-line-clamp: unset; -webkit-box-orient: unset; }

  /* Product Detail Layout (Side-by-side) */
  .product-detail-main { flex-direction: row; align-items: flex-start; }
  .product-detail-image { flex: 0 0 45%; /* Fixed width for image */ width: auto; max-width: none; margin: 0; }
  .product-detail-info { flex: 1 1 auto; /* Info takes remaining space */ }
  .product-actions { flex-direction: row; align-items: center; }
  .product-actions .btn { width: auto; } /* Button auto width */
  .quantity-selector { max-width: 130px; margin-bottom: 0; margin-right: var(--spacing-unit); } /* Space next to button */

  /* Auth Container */
  .auth-container { margin: calc(var(--spacing-unit) * 2) auto; }

  /* Cart Item Layout (Wider Grid) */
  .cart-item {
      grid-template-columns: 100px 1fr 100px 150px 80px; /* Image, Details, Price, Qty, Remove */
      grid-template-areas: "image details price quantity remove";
      align-items: center; /* Vertically align all items */
      padding: var(--spacing-unit);
      gap: var(--spacing-unit);
  }
  .cart-item-details { grid-area: details; }
  .cart-item-price { display: block; grid-area: price; text-align: right; font-weight: 500; font-size: 1rem; color: var(--text-color); margin-bottom: 0; }
  .cart-item-quantity { grid-area: quantity; justify-content: center; /* Center quantity input */ }
  .cart-item-subtotal { display: none; } /* Hide mobile subtotal */
  .cart-item-remove { grid-area: remove; align-self: center; text-align: center; }

  /* Checkout Layout (Side-by-side) */
  .checkout-grid { flex-direction: row; gap: calc(var(--spacing-unit) * 1.5); align-items: flex-start; }
  .checkout-address { flex: 1 1 55%; } /* Address takes slightly more space */
  .checkout-summary { flex: 1 1 45%; }

  /* --- Desktop Table Refinements --- */
  .data-table thead { display: table-header-group; } /* Show header */
  .data-table tbody tr {
      display: table-row; /* Display as actual table rows */
      margin-bottom: 0;
      border: none;
      padding: 0;
      box-shadow: none;
      background-color: transparent; /* Remove card background */
      border-bottom: 1px solid var(--border-color); /* Row separator */
      border-radius: 0; /* Remove card radius */
  }
  .data-table tbody tr:last-child { border-bottom: none; } /* No border on last row */
  .data-table tbody tr:hover { background-color: #f1f5f9; } /* Hover effect for rows */
  .data-table td {
      display: table-cell; /* Display as table cells */
      text-align: left; /* Default align left */
      padding: calc(var(--spacing-unit) * 0.6); /* Consistent padding */
      vertical-align: middle; /* Vertically center cell content */
      border-bottom: none; /* Remove cell bottom border */
      position: static; /* Reset position */
      margin-left: 0 !important; /* Reset mobile margin */
      width: auto; /* Reset width */
  }
  .data-table td::before { content: none; } /* Remove mobile labels */

  /* Specific column alignments/widths for desktop table */
  .table-img { max-width: 60px; margin-left: 0; } /* Slightly larger image, reset margin */
  .data-table td:has(img) { width: 80px; } /* Fixed width for image column */
  .data-table th[data-label*="Price"], .data-table td[data-label*="Price"],
  .data-table th[data-label*="Stock"], .data-table td[data-label*="Stock"],
  .data-table th[data-label*="Total"], .data-table td[data-label*="Total"],
  .data-table td.order-total { text-align: right; width: 120px; } /* Right align prices/totals */
  .data-table th[data-label="Status"], .data-table td[data-label="Status"],
  .data-table td.order-status-cell { text-align: center; width: 150px; } /* Center status */
  .data-table td[data-label="Status"] .status-badge, .order-status-cell .status-badge { float: none; display: inline-block; } /* Center badge */
  .order-status-cell small { text-align: center; font-size: 0.8em; display: block; margin-top: 3px;} /* Center status date */

  .data-table th.actions-cell, .data-table td.actions-cell {
      text-align: right !important; /* Align actions right */
      width: auto; /* Allow actions to take needed width */
      min-width: 200px; /* Minimum width for actions */
      white-space: nowrap; /* Prevent actions wrapping initially */
  }
   /* Desktop Actions Cell Layout */
   .actions-cell .action-group { border: none; padding: 0; margin: 0; display: inline-block; vertical-align: middle; margin-left: calc(var(--spacing-unit) * 0.5); } /* Display groups inline */
   .actions-cell .action-group:first-child { margin-left: 0; }
   .actions-cell .action-group-title { display: none; } /* Hide mobile title */
   .actions-cell form, .actions-cell .btn { display: inline-block; width: auto; margin: 0 0 0 calc(var(--spacing-unit) * 0.3); vertical-align: middle; } /* Inline buttons/forms */
   .actions-cell form:first-child, .actions-cell .btn:first-child { margin-left: 0; } /* No left margin for first action */
   .actions-cell .inline-form { display: inline-flex; width: auto; margin-left: 0; } /* Inline forms within actions */
   .actions-cell .inline-form + .inline-form { margin-left: calc(var(--spacing-unit) * 0.3); }
   .actions-cell .verify-otp-form { display: inline-flex; gap: 5px; width: auto; }
   .actions-cell .verify-otp-form input { max-width: 100px; }
   .actions-cell select.form-control-sm { width: auto; display: inline-block; margin-right: 5px; vertical-align: middle; } /* Inline select */
   .actions-cell .no-actions-text { display: inline-block; text-align: right; width: auto; font-size: 0.85em; font-style: italic; color: var(--secondary-color); }

  /* Desktop Order Table Specifics */
  .order-table td[data-label="Items"] .order-items-summary { margin-left: 0; text-align: left; font-size: 0.9em; margin-bottom: 5px; }
  .order-table .order-items-images { justify-content: flex-start; margin-left: 0; }
  .delivery-otp-display { margin-left: 0; margin-top: 5px; padding: 5px 8px; font-size: 0.85rem; display: inline-block; width: auto; text-align: center; vertical-align: middle; }
  .delivery-otp-display p { margin-bottom: 0 !important; }
  .delivery-otp-display small { display: none; } /* Hide verbose text on desktop */


  /* Admin Actions Grid */
  .admin-actions-grid { grid-template-columns: repeat(2, 1fr); } /* 2 columns for tablets */

  /* Rating Stats Layout (Side-by-side) */
  .rating-stats-container {
      flex-direction: row;
      align-items: flex-start; /* Align items to top */
      gap: calc(var(--spacing-unit) * 2);
  }
  .rating-summary {
      flex-direction: column;
      align-items: center; /* Center items in the summary block */
      margin-bottom: 0;
      flex-basis: 150px; /* Fixed width for summary */
      flex-shrink: 0;
      text-align: center; /* Center text */
  }
  .rating-average-value { font-size: 3em; }
  .rating-total { font-size: 1em; margin-top: 5px; }
  .rating-bars { max-width: none; flex-grow: 1; margin: 0; } /* Bars take remaining space */

  /* Profile Container */
  .profile-container { padding: calc(var(--spacing-unit) * 2); }

  /* Banner Slider */
  .banner-slider-container { aspect-ratio: 21 / 6; } /* Wider aspect ratio */
  .banner-nav { width: 40px; height: 40px; font-size: 1rem; opacity: 0.8; }
  .banner-dots { bottom: 15px; }
  .banner-dot { width: 10px; height: 10px; }

  /* Category Icons */
  .category-grid { grid-template-columns: repeat(6, 1fr); gap: calc(var(--spacing-unit) * 0.8); }
  .category-icon-wrapper { width: 65px; height: 65px; border-radius: 20px; }
  .category-name { font-size: 0.8rem; }
  .category-icons-section { padding: calc(var(--spacing-unit) * 1.2); }
  .category-icons-section h2 { font-size: 1.4rem; }

} /* End @media (min-width: 768px) */


/* Larger Desktops (992px+) */
@media (min-width: 992px) {
  .container { max-width: 960px; } /* Bootstrap md breakpoint */
  .product-grid { grid-template-columns: repeat(4, 1fr); } /* 4 products per row */
  .product-grid, .admin-actions-grid { gap: calc(var(--spacing-unit) * 1); } /* Increase gap */
  .admin-actions-grid { grid-template-columns: repeat(3, 1fr); } /* 3 actions per row */
  .navbar { max-width: 960px; } /* Match container */

  /* Category Icons */
  .category-grid { grid-template-columns: repeat(8, 1fr); gap: var(--spacing-unit); }
  .category-icon-wrapper { width: 70px; height: 70px; border-radius: 22px; }
  .category-name { font-size: 0.85rem; }
  .category-icons-section { padding: calc(var(--spacing-unit) * 1.5); }

  /* Widen actions cell slightly if needed */
  /* .data-table th.actions-cell, .data-table td.actions-cell { min-width: 220px; } */
} /* End @media (min-width: 992px) */


/* Extra Large Desktops (1200px+) */
@media (min-width: 1200px) {
    .container { max-width: 1140px; } /* Bootstrap lg breakpoint */
    .navbar { max-width: 1140px; } /* Match container */
    /* Optional: Increase product columns if desired */
    /* .product-grid { grid-template-columns: repeat(5, 1fr); } */
    .admin-actions-grid { grid-template-columns: repeat(4, 1fr); } /* 4 actions per row */

     /* Category Icons */
    /* Optional: increase columns further */
    /* .category-grid { grid-template-columns: repeat(10, 1fr); } */
     .category-icon-wrapper { width: 75px; height: 75px; border-radius: 25px; }

    /* Banner Slider */
    .banner-slider-container { aspect-ratio: 24 / 6; } /* Even wider */

} /* End @media (min-width: 1200px) */

/* Extra Extra Large Desktops (1400px+) */
@media (min-width: 1400px) {
    .container { max-width: 1320px; } /* Bootstrap xxl breakpoint */
    .navbar { max-width: 1320px; } /* Match container */
    /* Optional: Increase columns further */
     .product-grid { grid-template-columns: repeat(5, 1fr); }
     .admin-actions-grid { grid-template-columns: repeat(5, 1fr); }
     .category-grid { grid-template-columns: repeat(10, 1fr); }
} /* End @media (min-width: 1400px) */


/* Print Styles (Optional but Recommended) */
@media print {
  body {
    background: none !important; /* Remove background gradient/image for printing */
    color: #000 !important; /* Ensure black text */
    font-size: 12pt; /* Standard print font size */
  }
  .app-header, .app-footer, .btn, .toast-container, .banner-slider-container, .category-icons-section, .search-form-dynamic, .search-toggle-btn, .close-alert, .toast-close-btn, .add-to-cart-form, .product-actions .btn:not(.btn-view-details), .rating-stars /* Hide interactive elements */ {
    display: none !important;
  }
  .container {
    max-width: 100% !important; /* Use full page width */
    padding: 0 !important;
    box-shadow: none !important;
    border: none !important;
  }
  a { color: inherit !important; text-decoration: underline !important; } /* Underline links */
  a[href^="http"]::after { content: " (" attr(href) ")"; font-size: 9pt; } /* Show URLs */
  .product-card, .auth-container, .checkout-address, .checkout-summary, .order-card, .data-table tbody tr, .profile-container {
    box-shadow: none !important;
    border: 1px solid #ccc !important; /* Simple border */
    page-break-inside: avoid; /* Try to keep cards from breaking across pages */
  }
  .product-grid, .admin-actions-grid {
    grid-template-columns: repeat(3, 1fr); /* Adjust grid for print layout */
    gap: 1cm;
  }
  .data-table { border: none !important; box-shadow: none !important; background: none !important; }
  .data-table thead { display: table-header-group !important; background: #eee !important; } /* Show table headers */
  .data-table td, .data-table th { border: 1px solid #ccc !important; padding: 4pt !important; }
  .table-img { max-width: 30px !important; }
}